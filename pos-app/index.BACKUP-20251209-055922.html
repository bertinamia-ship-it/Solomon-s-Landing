<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solomon's Landing - POS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #165b33, #1a7a42);
            min-height: 100vh;
            padding: 20px;
        }
        
        /* LOGIN SCREEN */
        .login-screen {
            max-width: 600px;
            margin: 100px auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
        }
        
        .logo {
            width: 250px;
            height: 250px;
            margin: 0 auto 20px;
            background-image: url('logo oficial solomons..jpg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .restaurant-name {
            font-size: 3rem;
            color: #165b33;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 40px;
        }
        
        input {
            width: 100%;
            padding: 15px;
            font-size: 1.2rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        button {
            width: 100%;
            padding: 15px;
            font-size: 1.3rem;
            background: linear-gradient(135deg, #165b33, #1a7a42);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(22, 91, 51, 0.3);
        }
        
        .quick-access {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }
        
        .quick-btn {
            padding: 15px;
            background: #f0f0f0;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
        }
        
        .quick-btn:hover {
            background: #e0e0e0;
        }
        
        .error {
            color: red;
            margin-top: 10px;
            display: none;
        }
        
        /* APP SCREEN */
        .app-screen {
            display: none;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* NAVBAR */
        .navbar {
            background: linear-gradient(135deg, #165b33, #1a7a42);
            padding: 0;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(22, 91, 51, 0.3);
            position: relative;
        }
        
        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 25px;
        }
        
        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .navbar-logo {
            width: 50px;
            height: 50px;
            background-image: url('logo oficial solomons..jpg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            border-radius: 50%;
            background-color: white;
            padding: 5px;
        }
        
        .navbar-title {
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .navbar-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .lang-switch {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .lang-switch:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.05);
        }
        
        .lang-flag {
            font-size: 1.2rem;
        }
        
        .logout-btn {
            position: fixed;
            bottom: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            background: rgba(220, 53, 69, 0.4);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(220, 53, 69, 0.2);
            z-index: 9999;
            opacity: 0.5;
        }
        
        .logout-btn:hover {
            background: rgba(220, 53, 69, 0.85);
            transform: scale(1.2);
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.4);
            opacity: 1;
        }
        
        .back-btn {
            display: none !important;
        }
        
        .home-btn {
            display: none !important;
        }
        
        @media (max-width: 768px) {
            .logout-btn {
                bottom: 15px;
                right: 15px;
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
        }
        
        @media (max-width: 768px) {
            .navbar-content {
                padding: 12px 15px;
            }
            
            .navbar-title {
                font-size: 1.2rem;
            }
            
            .navbar-logo {
                width: 40px;
                height: 40px;
            }
            
            .lang-switch {
                font-size: 0.85rem;
                padding: 6px 12px;
            }
        }
        
        /* CUSTOMER WELCOME - iPad Home */
        .customer-welcome {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            padding: 0;
            border-radius: 0;
            max-width: 100%;
            margin: 0;
            min-height: calc(100vh - 100px);
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Hero Section with Slideshow */
        .hero-section {
            position: relative;
            height: 500px;
            overflow: hidden;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }
        
        .slideshow {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }
        
        .slide.active {
            opacity: 1;
            z-index: 1;
        }
        
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .slide-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(22, 91, 51, 0.5), rgba(22, 91, 51, 0.8));
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            padding: 40px;
        }
        
        .hero-logo {
            width: 180px;
            height: 180px;
            background-image: url('logo oficial solomons..jpg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            margin-bottom: 30px;
            animation: logoFloat 3s ease-in-out infinite;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.5));
        }
        
        @keyframes logoFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }
        
        .hero-title {
            font-family: 'Georgia', serif;
            font-size: 4rem;
            font-weight: bold;
            margin: 0;
            text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.5);
            letter-spacing: 3px;
        }
        
        .hero-subtitle {
            font-size: 1.8rem;
            margin: 20px 0;
            font-style: italic;
            color: #d4af37;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
        }
        
        .slideshow-dots {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 10;
        }
        
        .dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .dot.active {
            background: #d4af37;
            transform: scale(1.3);
        }
        
        /* Welcome Content */
        .welcome-content {
            max-width: 900px;
            margin: 50px auto;
            padding: 0 30px 80px 30px;
            text-align: center;
        }
        
        .welcome-message {
            background: white;
            padding: 25px 40px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 25px;
            animation: slideUp 0.8s ease-out 0.2s backwards;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .welcome-message h2 {
            font-size: 2rem;
            color: #165b33;
            margin: 0;
            font-weight: bold;
        }
        
        .welcome-message p {
            display: none;
        }
        
        /* Simple Guest Form */
        .guest-info-form {
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            padding: 30px;
            border-radius: 20px;
            border: 3px solid #e0e0e0;
            margin-bottom: 20px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-field {
            text-align: left;
        }
        
        .form-field.half-width {
            width: 100%;
        }
        
        .form-field label {
            display: block;
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .form-field input,
        .form-field textarea {
            width: 100%;
            padding: 12px 16px;
            font-size: 1.1rem;
            border: 2px solid #ddd;
            border-radius: 12px;
            transition: all 0.3s ease;
            background: white;
        }
        
        .form-field input:focus,
        .form-field textarea:focus {
            outline: none;
            border-color: #165b33;
            box-shadow: 0 0 0 4px rgba(22, 91, 51, 0.1);
        }
        
        .form-field textarea {
            min-height: 60px;
            resize: vertical;
        }
        
        .form-field.full-width {
            grid-column: 1 / -1;
        }
        
        /* Party Size Selector */
        .party-size-selector {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
        }
        
        .size-btn {
            padding: 12px;
            font-size: 1.3rem;
            font-weight: bold;
            background: white;
            color: #666;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .size-btn:hover {
            border-color: #165b33;
            color: #165b33;
            transform: scale(1.05);
        }
        
        .size-btn.active {
            background: #165b33;
            color: white;
            border-color: #165b33;
        }
        
        /* Yes/No Selector */
        .yes-no-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .yn-btn {
            padding: 12px;
            font-size: 1.2rem;
            font-weight: 600;
            background: white;
            color: #666;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .yn-btn:hover {
            border-color: #165b33;
            color: #165b33;
        }
        
        .yn-btn.active {
            background: #165b33;
            color: white;
            border-color: #165b33;
        }
        
        /* Start Button */
        .btn-start-ordering {
            width: 100%;
            padding: 25px;
            font-size: 1.8rem;
            background: linear-gradient(135deg, #165b33, #1a7a42);
            color: white;
            border: none;
            border-radius: 18px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(22, 91, 51, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { box-shadow: 0 10px 30px rgba(22, 91, 51, 0.3); }
            50% { box-shadow: 0 15px 40px rgba(22, 91, 51, 0.5); }
        }
        
        .btn-start-ordering:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 45px rgba(22, 91, 51, 0.5);
        }
        
        .btn-start-ordering:active {
            transform: translateY(-2px);
        }
        
        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin-top: 50px;
        }
        
        .feature-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: all 0.3s ease;
            animation: fadeInUp 0.6s ease-out backwards;
        }
        
        .feature-card:nth-child(1) { animation-delay: 0.3s; }
        .feature-card:nth-child(2) { animation-delay: 0.4s; }
        .feature-card:nth-child(3) { animation-delay: 0.5s; }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }
        
        .feature-icon {
            font-size: 3.5rem;
            margin-bottom: 15px;
        }
        
        .feature-title {
            font-size: 1.4rem;
            color: #165b33;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .feature-text {
            font-size: 1.1rem;
            color: #666;
            line-height: 1.6;
        }
        
        @media (max-width: 768px) {
            .hero-section { height: 350px; }
            .hero-title { font-size: 2.5rem; }
            .hero-subtitle { font-size: 1.3rem; }
            .form-row { grid-template-columns: 1fr; }
            .features-grid { grid-template-columns: 1fr; }
            .welcome-message { padding: 30px 20px; }
            .welcome-message h2 { font-size: 2rem; }
        }
        
        /* MENU SCREEN */
        .menu-screen {
            display: none;
            background: white;
            padding: 30px;
            border-radius: 20px;
        }
        
        .menu-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #165b33;
        }
        
        .menu-header h2 {
            font-size: 2.5rem;
            color: #165b33;
            margin-bottom: 10px;
        }
        
        .customer-info-display {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-size: 1.1rem;
            color: #666;
        }
        
        .menu-categories {
            padding: 2rem 1rem;
        }
        
        .menu-category-section {
            margin-bottom: 3rem;
        }
        
        .menu-item {
            background: white;
            padding: 25px;
            border-radius: 20px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        
        .menu-item:hover {
            border-color: #165b33;
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }
        
        .menu-item h3 {
            font-size: 1.4rem;
            color: #165b33;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .menu-item p {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.6;
            font-size: 1rem;
        }
        
        .menu-item .price {
            font-size: 1.4rem;
            color: #d4af37;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: center;
        }
        
        .quantity-control button {
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            border-radius: 50%;
            padding: 0;
        }
        
        .quantity-control span {
            font-size: 1.3rem;
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }
        
        /* ORDER SUMMARY */
        .order-summary {
            background: linear-gradient(135deg, #165b33, #1a7a42);
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            color: white;
        }
        
        .order-summary h3 {
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.3);
        }
        
        .order-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.8rem;
            font-weight: bold;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 3px solid #d4af37;
            color: #d4af37;
        }
        
        .btn-request-bill {
            width: 100%;
            padding: 20px;
            font-size: 1.5rem;
            background: #d4af37;
            color: #165b33;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 20px;
        }
        
        .btn-request-bill:hover {
            background: #e5c04a;
            transform: translateY(-3px);
        }
        
        /* BACK TO HOME BUTTON */
        .btn-back-home {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            opacity: 0.6;
            text-decoration: none;
        }
        
        .btn-back-home:hover {
            background: rgba(255, 255, 255, 0.2);
            opacity: 1;
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* ============================================
           HOME SCREEN - Welcome Page
           ============================================ */
        .home-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }
        
        .home-slideshow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        
        .home-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 2s ease-in-out;
        }
        
        .home-slide.active {
            opacity: 1;
            z-index: 1;
        }
        
        .home-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(22, 91, 51, 0.7), rgba(22, 91, 51, 0.85));
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2;
            padding: 2rem;
        }
        
        .home-logo {
            width: 200px;
            height: 200px;
            background-image: url('logo oficial solomons..jpg');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            margin-bottom: 2rem;
            animation: logoFloat 4s ease-in-out infinite;
            filter: drop-shadow(0 15px 40px rgba(0, 0, 0, 0.6));
        }
        
        .home-title {
            font-family: 'Georgia', serif;
            font-size: 5rem;
            font-weight: 700;
            color: white;
            margin: 0 0 1rem 0;
            letter-spacing: 5px;
            text-shadow: 3px 3px 15px rgba(0, 0, 0, 0.7);
            text-align: center;
        }
        
        .home-tagline {
            font-size: 2rem;
            color: #d4af37;
            font-style: italic;
            margin: 0 0 3rem 0;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
        }
        
        .home-actions {
            margin-bottom: 4rem;
        }
        
        .btn-home-signin {
            padding: 2rem 3rem;
            background: linear-gradient(135deg, #d4af37, #f0c54a);
            color: #165b33;
            border: none;
            border-radius: 25px;
            font-size: 1.8rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: 0 15px 50px rgba(212, 175, 55, 0.5);
            animation: pulse 2.5s ease-in-out infinite;
        }
        
        .btn-home-signin:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 20px 60px rgba(212, 175, 55, 0.7);
        }
        
        .btn-home-signin:active {
            transform: translateY(-4px) scale(1.02);
        }
        
        .home-info {
            display: flex;
            gap: 3rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .info-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 1.5rem 2rem;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
        }
        
        .info-card:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-5px);
        }
        
        .info-icon {
            font-size: 2.5rem;
        }
        
        .info-text {
            font-size: 1.3rem;
            color: white;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .home-title {
                font-size: 3rem;
            }
            
            .home-tagline {
                font-size: 1.3rem;
            }
            
            .btn-home-signin {
                font-size: 1.4rem;
                padding: 1.5rem 2.5rem;
            }
            
            .home-info {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- PANTALLA DE BIENVENIDA INICIAL -->
    <div id="homeScreen" class="home-screen" style="display: none;">
        <!-- Background Slideshow -->
        <div class="home-slideshow">
            <div class="home-slide active" style="background-image: url('mh1.jpg');"></div>
            <div class="home-slide" style="background-image: url('mh2.jpg');"></div>
            <div class="home-slide" style="background-image: url('mh3.jpg');"></div>
            <div class="home-slide" style="background-image: url('mh4.jpg');"></div>
            <div class="home-slide" style="background-image: url('mh5.jpg');"></div>
        </div>
        
        <!-- Overlay Content -->
        <div class="home-overlay">
            <div class="home-logo"></div>
            <h1 class="home-title">SOLOMON'S LANDING</h1>
            <p class="home-tagline">Where Every Meal is a Journey</p>
            
            <div class="home-actions">
                <button class="btn-home-signin" onclick="goToLogin()">
                    <span style="font-size: 2rem;">üîê</span>
                    <span>Sign In to Order</span>
                </button>
            </div>
            
            <div class="home-info">
                <div class="info-card">
                    <span class="info-icon">üçΩÔ∏è</span>
                    <span class="info-text">Fresh Ingredients</span>
                </div>
                <div class="info-card">
                    <span class="info-icon">üë®‚Äçüç≥</span>
                    <span class="info-text">Master Chefs</span>
                </div>
                <div class="info-card">
                    <span class="info-icon">‚≠ê</span>
                    <span class="info-text">Premium Service</span>
                </div>
            </div>
        </div>
    </div>

    <!-- PANTALLA DE LOGIN -->
    <div id="loginScreen" class="login-screen">
        <!-- Back Button - Discreto -->
        <a href="../index.html" class="btn-back-home" title="Back to Home">
            üè†
        </a>
        
        <div class="logo"></div>
        <h1 class="restaurant-name">SOLOMON'S LANDING</h1>
        <p class="subtitle">Sistema de Punto de Venta</p>
        
        <form id="loginForm" onsubmit="return handleLogin(event);">
            <input type="text" id="username" placeholder="Usuario" required>
            <input type="password" id="password" placeholder="Contrase√±a" required>
            <button type="submit">Iniciar Sesi√≥n</button>
        </form>
        
        <div class="error" id="errorMsg">Usuario o contrase√±a incorrectos</div>
        
        <div class="quick-access">
            <div class="quick-btn" onclick="quickLogin('admin')">üëë Admin</div>
            <div class="quick-btn" onclick="quickLogin('ipad1')">üì± iPad 1</div>
            <div class="quick-btn" onclick="quickLogin('meseros')">üë®‚Äçüç≥ Meseros</div>
            <div class="quick-btn" onclick="quickLogin('bar')">üç∏ Bar</div>
        </div>
    </div>

    <!-- PANTALLA DE APP -->
    <div id="appScreen" class="app-screen">
        <!-- NAVBAR -->
        <nav class="navbar">
            <div class="navbar-content">
                <div class="navbar-brand">
                    <div class="navbar-logo"></div>
                    <div class="navbar-title" id="navbarTitle">Solomon's Landing</div>
                </div>
                <div class="navbar-actions">
                    <!-- Language Switch -->
                    <button class="lang-switch" onclick="toggleLanguage()" id="langBtn" style="margin-right: 0.5rem; display: block !important; visibility: visible !important; opacity: 1 !important;">
                        <span class="lang-flag" id="langFlag">üá∫üá∏</span>
                        <span id="langText">English</span>
                    </button>
                    <!-- Request Check Button -->
                    <button id="requestCheckBtn" onclick="requestCheck()" style="display: none; padding: 0.6rem 1.2rem; font-size: 0.9rem; background: linear-gradient(135deg, #c41e3a, #8b0000); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: 700; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(196, 30, 58, 0.3);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(196, 30, 58, 0.4)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(196, 30, 58, 0.3)'">
                        üí≥ <span class="check-btn-text-en">Request Check</span><span class="check-btn-text-es" style="display:none;">Pedir Cuenta</span>
                    </button>
                </div>
            </div>
        </nav>
        
        <!-- NAVIGATION BUTTONS -->
        <button class="back-btn" id="backBtn" onclick="goBack()" title="Atr√°s / Back">‚Üê</button>
        <button class="home-btn" id="homeBtn" onclick="goToStart()" title="Inicio / Home">üè†</button>
        <button class="logout-btn" onclick="logout()" title="Logout / Salir">‚úï</button>
        
        <!-- CUSTOMER WELCOME - Beautiful iPad Home -->
        <div id="customerWelcome" class="customer-welcome" style="display:none;">
            <!-- Hero Slideshow Section -->
            <div class="hero-section">
                <div class="slideshow">
                    <div class="slide active">
                        <img src="mh1.jpg" alt="Solomon's Landing">
                        <div class="slide-overlay">
                            <div class="hero-logo"></div>
                            <h1 class="hero-title">SOLOMON'S LANDING</h1>
                            <p class="hero-subtitle" id="heroSubtitle">Where Every Meal is a Journey</p>
                        </div>
                    </div>
                    <div class="slide">
                        <img src="mh2.jpg" alt="Delicious Cuisine">
                        <div class="slide-overlay">
                            <div class="hero-logo"></div>
                            <h1 class="hero-title">SOLOMON'S LANDING</h1>
                            <p class="hero-subtitle" id="heroSubtitle2">Fresh Flavors, Exceptional Service</p>
                        </div>
                    </div>
                    <div class="slide">
                        <img src="mh3.jpg" alt="Fine Dining">
                        <div class="slide-overlay">
                            <div class="hero-logo"></div>
                            <h1 class="hero-title">SOLOMON'S LANDING</h1>
                            <p class="hero-subtitle" id="heroSubtitle3">An Unforgettable Experience</p>
                        </div>
                    </div>
                    <div class="slide">
                        <img src="mh4.jpg" alt="Gourmet Dishes">
                        <div class="slide-overlay">
                            <div class="hero-logo"></div>
                            <h1 class="hero-title">SOLOMON'S LANDING</h1>
                            <p class="hero-subtitle" id="heroSubtitle4">Crafted with Passion</p>
                        </div>
                    </div>
                    <div class="slide">
                        <img src="mh5.jpg" alt="Premium Quality">
                        <div class="slide-overlay">
                            <div class="hero-logo"></div>
                            <h1 class="hero-title">SOLOMON'S LANDING</h1>
                            <p class="hero-subtitle" id="heroSubtitle5">Your Culinary Destination</p>
                        </div>
                    </div>
                </div>
                <div class="slideshow-dots">
                    <span class="dot active" onclick="goToSlide(0)"></span>
                    <span class="dot" onclick="goToSlide(1)"></span>
                    <span class="dot" onclick="goToSlide(2)"></span>
                    <span class="dot" onclick="goToSlide(3)"></span>
                    <span class="dot" onclick="goToSlide(4)"></span>
                </div>
            </div>
            
            <!-- Welcome Content -->
            <div class="welcome-content">
                <div class="welcome-message">
                    <h2 id="welcomeTitle">Welcome to Our Family</h2>
                </div>
                
                <!-- Guest Information Form - COMPACT -->
                <form class="guest-info-form" id="customerForm">
                    <div class="form-row">
                        <div class="form-field">
                            <label id="labelLastName">Last Name / Apellido</label>
                            <input type="text" id="customerLastName" required placeholder="Your last name">
                        </div>
                        <div class="form-field">
                            <label id="labelPartySize">Party Size / Personas</label>
                            <div class="party-size-selector">
                                <button type="button" class="size-btn" onclick="selectPartySize(1)">1</button>
                                <button type="button" class="size-btn active" onclick="selectPartySize(2)">2</button>
                                <button type="button" class="size-btn" onclick="selectPartySize(3)">3</button>
                                <button type="button" class="size-btn" onclick="selectPartySize(4)">4</button>
                                <button type="button" class="size-btn" onclick="selectPartySize(5)">5</button>
                                <button type="button" class="size-btn" onclick="selectPartySize(6)">6+</button>
                            </div>
                            <input type="hidden" id="partySize" value="2">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-field half-width">
                            <label id="labelAllergiesQuestion">Allergies? / ¬øAlergias?</label>
                            <div class="yes-no-selector">
                                <button type="button" class="yn-btn" onclick="toggleAllergies(false)">No</button>
                                <button type="button" class="yn-btn" onclick="toggleAllergies(true)">Yes / S√≠</button>
                            </div>
                            <textarea id="customerAllergies" rows="2" style="display:none; margin-top: 10px;" placeholder="Please specify..."></textarea>
                        </div>
                        <div class="form-field half-width">
                            <label id="labelCelebrationQuestion">Celebration? / ¬øCelebraci√≥n?</label>
                            <div class="yes-no-selector">
                                <button type="button" class="yn-btn" onclick="toggleCelebration(false)">No</button>
                                <button type="button" class="yn-btn" onclick="toggleCelebration(true)">Yes / S√≠</button>
                            </div>
                            <textarea id="customerCelebration" rows="2" style="display:none; margin-top: 10px;" placeholder="Tell us about it..."></textarea>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-start-ordering" id="btnStartOrder">
                        <span style="font-size: 2rem;">üçΩÔ∏è</span>
                        <span id="btnOrderText">Start Your Dining Experience</span>
                    </button>
                </form>
                
                <!-- Features Grid - REMOVED for compact design -->
            </div>
        </div>
        
        <!-- MENU SCREEN -->
        <div id="menuScreen" class="menu-screen">
            
            <!-- CUSTOMER INFO NAVBAR - Fixed at top, always visible -->
            <div id="customerInfoNavbar" style="display: none; position: sticky; top: 70px; z-index: 999; background: linear-gradient(135deg, #165b33, #1a7a43); box-shadow: 0 4px 20px rgba(0,0,0,0.25); padding: 1.2rem 2rem; margin-bottom: 2rem;">
                <div style="display: flex; justify-content: space-between; align-items: center; gap: 2rem; max-width: 1400px; margin: 0 auto;">
                    <!-- Customer Info Section -->
                    <div style="flex: 1; color: white;">
                        <div style="font-size: 1.4rem; font-weight: 700; margin-bottom: 0.4rem;" id="accountNameDisplay">üë§ Cliente</div>
                        <div style="font-size: 0.95rem; opacity: 0.95; line-height: 1.4;" id="accountExtrasDisplay"></div>
                    </div>
                    
                    <!-- Orders Summary -->
                    <div style="text-align: center; padding: 0 2rem; border-left: 2px solid rgba(255,255,255,0.3); border-right: 2px solid rgba(255,255,255,0.3);">
                        <div style="font-size: 0.75rem; opacity: 0.9; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 0.3rem; color: white;"><span class="account-orders-label-en">Orders Placed</span><span class="account-orders-label-es" style="display:none;">√ìrdenes</span></div>
                        <div style="font-size: 2rem; font-weight: 700; color: #d4af37;" id="ordersCountDisplay">0</div>
                    </div>
                    
                    <!-- Account Total Section -->
                    <div onclick="showOrderDetailsModal()" style="text-align: right; min-width: 180px; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        <div style="font-size: 0.75rem; opacity: 0.9; text-transform: uppercase; letter-spacing: 1.5px; margin-bottom: 0.3rem; color: white;">
                            <span class="account-total-label-en">Account Total</span><span class="account-total-label-es" style="display:none;">Total de Cuenta</span>
                            <span style="font-size: 0.7rem; opacity: 0.7; display: block; margin-top: 0.2rem;">üëÅÔ∏è <span class="click-details-en">Click for details</span><span class="click-details-es" style="display:none;">Click para detalles</span></span>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 700; color: #d4af37; text-shadow: 0 2px 10px rgba(0,0,0,0.3);" id="accountTotalDisplay">$0.00</div>
                    </div>
                </div>
            </div>
            
            <!-- ORDER DETAILS MODAL -->
            <div id="orderDetailsModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; justify-content: center; align-items: center;" onclick="closeOrderDetailsModal()">
                <div style="background: white; border-radius: 20px; padding: 2rem; max-width: 800px; width: 90%; max-height: 80vh; overflow-y: auto; box-shadow: 0 10px 40px rgba(0,0,0,0.3);" onclick="event.stopPropagation()">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; border-bottom: 3px solid #165b33; padding-bottom: 1rem;">
                        <h2 style="color: #165b33; margin: 0; font-size: 1.8rem;">
                            üìã <span class="order-history-title-en">Order History</span><span class="order-history-title-es" style="display:none;">Historial de √ìrdenes</span>
                        </h2>
                        <button onclick="closeOrderDetailsModal()" style="background: #dc3545; color: white; border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 1.3rem; cursor: pointer; font-weight: bold;">‚úï</button>
                    </div>
                    <div id="orderDetailsContent" style="font-size: 1rem;"></div>
                </div>
            </div>
            
            <!-- ITEM NOTES MODAL -->
            <div id="itemNotesModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10001; justify-content: center; align-items: center;" onclick="closeItemNotesModal()">
                <div style="background: white; border-radius: 20px; padding: 2rem; max-width: 500px; width: 90%; box-shadow: 0 10px 40px rgba(0,0,0,0.3);" onclick="event.stopPropagation()">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; border-bottom: 3px solid #165b33; padding-bottom: 1rem;">
                        <h2 style="color: #165b33; margin: 0; font-size: 1.5rem;">
                            üìù <span class="special-notes-en">Special Instructions</span><span class="special-notes-es" style="display:none;">Instrucciones Especiales</span>
                        </h2>
                        <button onclick="closeItemNotesModal()" style="background: #dc3545; color: white; border: none; border-radius: 50%; width: 35px; height: 35px; font-size: 1.2rem; cursor: pointer; font-weight: bold;">‚úï</button>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <div style="font-size: 1.1rem; font-weight: 600; color: #165b33; margin-bottom: 0.5rem;" id="notesItemName"></div>
                        <div style="font-size: 0.9rem; color: #666; margin-bottom: 1rem;">
                            <span class="notes-help-en">Example: No nuts, extra cheese, well done, etc.</span>
                            <span class="notes-help-es" style="display:none;">Ejemplo: Sin nueces, queso extra, bien cocido, etc.</span>
                        </div>
                    </div>
                    <textarea id="itemNotesTextarea" style="width: 100%; height: 120px; padding: 1rem; border: 2px solid #165b33; border-radius: 10px; font-size: 1rem; resize: vertical; font-family: inherit;"></textarea>
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button onclick="closeItemNotesModal()" style="flex: 1; padding: 0.8rem; background: #6c757d; color: white; border: none; border-radius: 10px; font-size: 1rem; font-weight: 600; cursor: pointer;">
                            <span class="cancel-en">Cancel</span><span class="cancel-es" style="display:none;">Cancelar</span>
                        </button>
                        <button onclick="saveItemNotes()" style="flex: 1; padding: 0.8rem; background: linear-gradient(135deg, #165b33, #1a7a43); color: white; border: none; border-radius: 10px; font-size: 1rem; font-weight: 600; cursor: pointer;">
                            ‚úÖ <span class="save-en">Save Notes</span><span class="save-es" style="display:none;">Guardar Notas</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- TIP MODAL -->
            <div id="tipModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10002; justify-content: center; align-items: center;">
                <div style="background: white; border-radius: 20px; padding: 2.5rem; max-width: 500px; width: 90%; box-shadow: 0 10px 40px rgba(0,0,0,0.3);">
                    <div style="text-align: center; margin-bottom: 2rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">‚úÖ</div>
                        <h2 style="color: #165b33; margin: 0 0 1rem 0; font-size: 1.6rem;">
                            <span class="tip-title-en">Your server is on the way with your check!</span>
                            <span class="tip-title-es" style="display:none;">¬°Tu mesero est√° en camino con tu cuenta!</span>
                        </h2>
                        <div style="font-size: 1.3rem; font-weight: 600; color: #333; margin-bottom: 0.5rem;">
                            <span class="tip-total-en">Total:</span>
                            <span class="tip-total-es" style="display:none;">Total:</span>
                            <span id="tipModalTotal" style="color: #165b33;">$0.00</span>
                        </div>
                        <div style="font-size: 0.9rem; color: #666; margin-top: 0.5rem;">
                            <span class="tip-optional-en">Tips are not mandatory but are greatly appreciated</span>
                            <span class="tip-optional-es" style="display:none;">Las propinas no son obligatorias pero son muy agradecidas</span>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <div style="font-size: 1.1rem; font-weight: 600; color: #165b33; margin-bottom: 1rem; text-align: center;">
                            <span class="tip-add-en">Would you like to add a tip?</span>
                            <span class="tip-add-es" style="display:none;">¬øDesea agregar propina?</span>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                            <button id="tip10btn" onclick="selectTip(10)" style="padding: 1.2rem; background: linear-gradient(135deg, #165b33, #1a7a43); color: white; border: none; border-radius: 15px; font-size: 1.2rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(22, 91, 51, 0.3);">
                                <div>10%</div>
                                <div id="tip10amount" style="font-size: 0.9rem; margin-top: 0.3rem; opacity: 0.9;"></div>
                            </button>
                            <button id="tip15btn" onclick="selectTip(15)" style="padding: 1.2rem; background: linear-gradient(135deg, #165b33, #1a7a43); color: white; border: none; border-radius: 15px; font-size: 1.2rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(22, 91, 51, 0.3);">
                                <div>15%</div>
                                <div id="tip15amount" style="font-size: 0.9rem; margin-top: 0.3rem; opacity: 0.9;"></div>
                            </button>
                        </div>
                        
                        <div style="margin-top: 1.5rem;">
                            <label style="font-size: 0.9rem; color: #666; display: block; margin-bottom: 0.5rem;">
                                <span class="tip-custom-en">Or enter a custom amount:</span>
                                <span class="tip-custom-es" style="display:none;">O ingrese una cantidad personalizada:</span>
                            </label>
                            <div style="position: relative;">
                                <span style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); font-size: 1.2rem; color: #666; font-weight: 600;">$</span>
                                <input type="number" id="customTipInput" placeholder="0.00" step="0.01" min="0" style="width: 100%; padding: 1rem 1rem 1rem 2rem; border: 2px solid #165b33; border-radius: 10px; font-size: 1.1rem; font-weight: 600;" />
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem;">
                        <button onclick="completeTipSelection(0)" style="flex: 1; padding: 1rem; background: #6c757d; color: white; border: none; border-radius: 10px; font-size: 1rem; font-weight: 600; cursor: pointer;">
                            <span class="tip-no-en">No Tip</span>
                            <span class="tip-no-es" style="display:none;">Sin Propina</span>
                        </button>
                        <button onclick="completeTipSelection()" style="flex: 1; padding: 1rem; background: linear-gradient(135deg, #165b33, #1a7a43); color: white; border: none; border-radius: 10px; font-size: 1rem; font-weight: 600; cursor: pointer;">
                            ‚úÖ <span class="tip-confirm-en">Confirm</span>
                            <span class="tip-confirm-es" style="display:none;">Confirmar</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="menu-header">
                <h2 id="menuTitle">Our Menu</h2>
            </div>
            
            <!-- MENU TABS -->
            <div class="menu-tabs" style="display: flex; gap: 0.5rem; margin-bottom: 2rem; flex-wrap: nowrap; justify-content: space-between; padding: 0.8rem; background: rgba(255,255,255,0.95); border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
                <button class="menu-tab active" data-category="breakfast" onclick="filterMenuByCategory('breakfast')" style="padding: 0.6rem 1rem; font-size: 0.95rem; font-weight: 600; border: none; border-radius: 20px; background: linear-gradient(135deg, #165b33, #1a7a43); color: white; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(22, 91, 51, 0.3); flex: 1; white-space: nowrap;">
                    üç≥ <span class="tab-text-en">Breakfast</span><span class="tab-text-es" style="display:none;">Desayuno</span>
                </button>
                <button class="menu-tab" data-category="lunch" onclick="filterMenuByCategory('lunch')" style="padding: 0.6rem 1rem; font-size: 0.95rem; font-weight: 600; border: none; border-radius: 20px; background: linear-gradient(135deg, #666, #888); color: white; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.2); flex: 1; white-space: nowrap;">
                    üçΩÔ∏è <span class="tab-text-en">Lunch</span><span class="tab-text-es" style="display:none;">Comida</span>
                </button>
                <button class="menu-tab" data-category="dinner" onclick="filterMenuByCategory('dinner')" style="padding: 0.6rem 1rem; font-size: 0.95rem; font-weight: 600; border: none; border-radius: 20px; background: linear-gradient(135deg, #666, #888); color: white; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.2); flex: 1; white-space: nowrap;">
                    ü•© <span class="tab-text-en">Dinner</span><span class="tab-text-es" style="display:none;">Cena</span>
                </button>
                <button class="menu-tab" data-category="sushi" onclick="filterMenuByCategory('sushi')" style="padding: 0.6rem 1rem; font-size: 0.95rem; font-weight: 600; border: none; border-radius: 20px; background: linear-gradient(135deg, #666, #888); color: white; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.2); flex: 1; white-space: nowrap;">
                    üç£ <span class="tab-text-en">Sushi</span><span class="tab-text-es" style="display:none;">Sushi</span>
                </button>
                <button class="menu-tab" data-category="bar" onclick="filterMenuByCategory('bar')" style="padding: 0.6rem 1rem; font-size: 0.95rem; font-weight: 600; border: none; border-radius: 20px; background: linear-gradient(135deg, #666, #888); color: white; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0,0,0,0.2); flex: 1; white-space: nowrap;">
                    üçπ <span class="tab-text-en">Bar</span><span class="tab-text-es" style="display:none;">Bar</span>
                </button>
            </div>
            
            <div class="menu-categories" id="menuCategories">
                <!-- Menu items will be loaded here -->
            </div>
            
            <!-- CURRENT CART - Shows items being added -->
            <div id="currentCart" style="display:none; position: fixed; bottom: 20px; right: 20px; background: white; border-radius: 15px; padding: 1.5rem; box-shadow: 0 8px 30px rgba(0,0,0,0.2); max-width: 350px; border: 3px solid #165b33; z-index: 1000;">
                <h3 style="color: #165b33; margin: 0 0 1rem 0; font-size: 1.2rem;">üõí <span class="current-cart-en">Current Cart</span><span class="current-cart-es" style="display:none;">Carrito Actual</span></h3>
                <div id="cartItems" style="max-height: 200px; overflow-y: auto; margin-bottom: 1rem;"></div>
                <div style="border-top: 2px solid #165b33; padding-top: 0.8rem; margin-top: 0.8rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; font-size: 1.1rem; font-weight: 700; color: #165b33;">
                        <span><span class="cart-total-en">Total:</span><span class="cart-total-es" style="display:none;">Total:</span></span>
                        <span id="cartTotalAmount">$0.00</span>
                    </div>
                </div>
                <button onclick="placeOrder()" id="btnPlaceOrder" style="display:none; background: linear-gradient(135deg, #165b33, #1a7a43); color: white; padding: 1rem 2rem; font-size: 1.1rem; border: none; border-radius: 10px; cursor: pointer; font-weight: 700; width: 100%; margin-top: 1rem; transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(22, 91, 51, 0.3);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(22, 91, 51, 0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(22, 91, 51, 0.3)';">
                    ‚úÖ <span class="order-now-en">Order Now</span><span class="order-now-es" style="display:none;">Ordenar Ahora</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // CONFIGURATION & STATE
        // ============================================
        
        // Global variables (available immediately)
        let currentLanguage = 'en'; // Default English
        let customerData = {};
        let currentOrder = {}; // Structure: { itemId: { quantity: N, timestamp: Date, items: [{time: Date, qty: N}] } }
        let pendingOrders = []; // Orders waiting for confirmation
        let confirmedOrders = []; // Orders sent to kitchen (cannot be cancelled by customer)
        let orderTimer = null; // Timer for 5-minute cancellation window
        let currentUsername = '';
        let accountTotal = 0; // Running total of all placed orders
        let allOrders = []; // History of all orders placed
        
        // Navigation stack for back button
        let navigationHistory = [];
        let currentScreen = 'login';
        
        // COMPLETE RESTAURANT MENU (Bilingual - EXACT DATA FROM WEBSITE)
        // Data extracted from app.js - Official Solomon's Landing Menu 2026
        let menuData = [];
        
        // Usuarios v√°lidos - GLOBAL
        const users = {
            'admin': { password: 'bertina123', role: 'Admin', name: 'Administrator', isIpad: false },
            'meseros': { password: 'bertina123', role: 'Waiters', name: 'Waiters', isIpad: false },
            'bar': { password: 'bertina123', role: 'Bar', name: 'Bar', isIpad: false },
            'ipad1': { password: 'bertina123', role: 'iPad', name: 'iPad 1', isIpad: true },
            'ipad2': { password: 'bertina123', role: 'iPad', name: 'iPad 2', isIpad: true },
            'ipad3': { password: 'bertina123', role: 'iPad', name: 'iPad 3', isIpad: true },
            'ipad4': { password: 'bertina123', role: 'iPad', name: 'iPad 4', isIpad: true },
            'ipad5': { password: 'bertina123', role: 'iPad', name: 'iPad 5', isIpad: true }
        };
        
        // MENU FUNCTIONS - Defined early for inline onclick handlers
        // ============================================
        
        // Current active category filter
        let activeCategory = 'breakfast';
        
        function filterMenuByCategory(category) {
            activeCategory = category;
            
            // Update tab styles
            document.querySelectorAll('.menu-tab').forEach(tab => {
                if (tab.getAttribute('data-category') === category) {
                    tab.style.background = 'linear-gradient(135deg, #165b33, #1a7a43)';
                    tab.style.boxShadow = '0 4px 10px rgba(22, 91, 51, 0.3)';
                    tab.classList.add('active');
                } else {
                    tab.style.background = 'linear-gradient(135deg, #666, #888)';
                    tab.style.boxShadow = '0 4px 10px rgba(0,0,0,0.2)';
                    tab.classList.remove('active');
                }
            });
            
            // Reload menu with filter
            loadMenu();
        }
        
        function loadMenu() {
            const container = document.getElementById('menuCategories');
            if (!container) {
                console.error('Menu container not found!');
                return;
            }
            container.innerHTML = '';
            
            console.log('Loading menu for category:', activeCategory);
            
            // Define main sections and their subcategories
            const menuStructure = {
                breakfast: {
                    mainCategory: { en: 'üç≥ BREAKFAST', es: 'üç≥ DESAYUNO' },
                    subcategories: ["A Fresh Start", "Something Sweet", "Chef's Specialties", "Egg Dishes"]
                },
                lunch: {
                    mainCategory: { en: 'üçΩÔ∏è LUNCH', es: 'üçΩÔ∏è COMIDA' },
                    subcategories: ["Starters", "Salads", "Burgers & Paninis", "Mexican Specialties"]
                },
                dinner: {
                    mainCategory: { en: 'ü•© DINNER', es: 'ü•© CENA' },
                    subcategories: ["Steaks & Ribs", "Seafood"]
                },
                sushi: {
                    mainCategory: { en: 'üç£ SUSHI', es: 'üç£ SUSHI' },
                    subcategories: ["Classic Rolls", "Specialty Rolls", "Sashimi & Nigiri"]
                },
                bar: {
                    mainCategory: { en: 'üçπ BAR', es: 'üçπ BAR' },
                    subcategories: ["Margaritas", "Cocktails", "Beer", "Wine"]
                }
            };
            
            // Get the section to display based on active category
            const section = menuStructure[activeCategory];
            console.log('Section found:', section);
            if (!section) {
                console.error('No section found for category:', activeCategory);
                return;
            }
            
            // Group items by their category
            const categoryGroups = {};
            menuData.forEach(item => {
                const categoryKey = item.category.en;
                if (!categoryGroups[categoryKey]) {
                    categoryGroups[categoryKey] = {
                        name: item.category,
                        items: []
                    };
                }
                categoryGroups[categoryKey].items.push(item);
            });
            
            // Create main section
            const mainSection = document.createElement('div');
            mainSection.style.marginBottom = '2rem';
            
            // Render subcategories for this section only
            section.subcategories.forEach(subcategoryKey => {
                    const group = categoryGroups[subcategoryKey];
                    if (!group) return;
                    
                    const categorySection = document.createElement('div');
                    categorySection.style.marginBottom = '2.5rem';
                    
                    // Subcategory header
                    const categoryHeader = document.createElement('h2');
                    categoryHeader.style.cssText = 'font-size: 1.8rem; color: #165b33; margin-bottom: 1.5rem; padding: 0.8rem 1.2rem; background: linear-gradient(135deg, rgba(22, 91, 51, 0.08), rgba(212, 175, 55, 0.08)); border-left: 4px solid #165b33; border-radius: 8px; text-align: left;';
                    categoryHeader.textContent = group.name[currentLanguage];
                    categorySection.appendChild(categoryHeader);
                    
                    // Items grid
                    const itemsGrid = document.createElement('div');
                    itemsGrid.style.cssText = 'display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 1.5rem;';
                    
                    group.items.forEach(item => {
                        const itemDiv = document.createElement('div');
                        itemDiv.className = 'menu-item';
                        
                        let badge = '';
                        if (item.featured) {
                            badge = '<span style="position: absolute; top: -10px; right: 10px; background: #d4af37; color: white; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; font-weight: bold;">‚≠ê ' + (currentLanguage === 'en' ? 'Featured' : 'Destacado') + '</span>';
                        } else if (item.new) {
                            badge = '<span style="position: absolute; top: -10px; right: 10px; background: #c41e3a; color: white; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; font-weight: bold;">üÜï ' + (currentLanguage === 'en' ? 'New' : 'Nuevo') + '</span>';
                        }
                        
                        let optionsHTML = '';
                        if (item.options && item.options.length > 0) {
                            optionsHTML = '<div style="margin-top: 0.5rem; font-size: 0.9rem; color: #666;">';
                            item.options.forEach(opt => {
                                optionsHTML += `<div>+ ${opt.name[currentLanguage]}: $${opt.price}</div>`;
                            });
                            optionsHTML += '</div>';
                        }
                        
                        itemDiv.innerHTML = `
                            ${badge}
                            <div style="text-align: center; margin-bottom: 1rem; font-size: 2.5rem;">
                                ${item.icons || 'üçΩÔ∏è'}
                            </div>
                            <h3 style="margin-bottom: 0.5rem;">${item.name[currentLanguage]}</h3>
                            <p style="margin-bottom: 1rem; min-height: 60px;">${item.description[currentLanguage]}</p>
                            ${optionsHTML}
                            <div class="price" style="font-size: 1.5rem; margin-bottom: 1rem;">$${item.price} MXN</div>
                            <div class="quantity-control">
                                <button onclick="changeQuantity(${item.id}, -1)">‚àí</button>
                                <span id="qty-${item.id}">0</span>
                                <button onclick="changeQuantity(${item.id}, 1)">+</button>
                            </div>
                            <div onclick="openItemNotesModal(${item.id}, '${item.name[currentLanguage].replace(/'/g, "\\'")}')"
                                style="margin-top: 0.6rem; text-align: center; cursor: pointer; color: #666; font-size: 0.75rem; padding: 0.3rem; transition: all 0.2s ease;"
                                onmouseover="this.style.color='#165b33'; this.style.textDecoration='underline';"
                                onmouseout="this.style.color='#666'; this.style.textDecoration='none';">
                                üìù <span class="add-notes-en">Add note</span><span class="add-notes-es" style="display:none;">Nota</span>
                            </div>
                        `;
                        itemsGrid.appendChild(itemDiv);
                    });
                    
                    categorySection.appendChild(itemsGrid);
                    mainSection.appendChild(categorySection);
                });
                
                container.appendChild(mainSection);
                console.log('Menu loaded successfully!');
        }
        
        // Handle login - GLOBAL function
        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value.toLowerCase().trim();
            const password = document.getElementById('password').value;
            const errorMsg = document.getElementById('errorMsg');
            
            if (users[username] && users[username].password === password) {
                errorMsg.style.display = 'none';
                currentUsername = username;
                
                sessionStorage.setItem('currentUser', JSON.stringify(users[username]));
                sessionStorage.setItem('username', username);
                
                showApp(users[username]);
            } else {
                errorMsg.style.display = 'block';
                document.getElementById('password').value = '';
            }
            
            return false;
        }
        
        // Quick Login - GLOBAL function
        function quickLogin(username) {
            // Auto-login for iPad users with preset passwords
            const ipadPasswords = {
                'ipad1': 'bertina123',
                'ipad2': 'bertina123',
                'ipad3': 'bertina123',
                'ipad4': 'bertina123',
                'ipad5': 'bertina123',
                'bar': 'bertina123'
            };
            
            const password = ipadPasswords[username];
            if (password) {
                document.getElementById('username').value = username;
                document.getElementById('password').value = password;
                
                // Trigger the login form submit automatically
                const loginForm = document.getElementById('loginForm');
                if (loginForm) {
                    handleLogin(new Event('submit'));
                }
            }
        }
        
        // Show App - GLOBAL function
        function showApp(user) {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('appScreen').style.display = 'block';
            
            // Set initial language display
            document.getElementById('langFlag').textContent = 'üá∫üá∏';
            document.getElementById('langText').textContent = 'English';
            
            if (user.isIpad) {
                // Show customer welcome for iPad users
                navigateTo('customerWelcome');
                document.getElementById('navbarTitle').textContent = "Solomon's Landing";
                
                // Initialize slideshow
                setTimeout(function() { if (typeof initSlideshow !== 'undefined') initSlideshow(); }, 200);
            } else {
                // Show admin/staff panel
                navigateTo('menuScreen');
                document.getElementById('navbarTitle').textContent = user.name;
                setTimeout(function() { if (typeof loadMenu !== 'undefined') loadMenu(); }, 200);
            }
        }
        
        // ============================================
        // NAVIGATION SYSTEM
        // ============================================
        
        function navigateTo(screenName) {
            // Save current screen to history if it's different
            if (currentScreen && currentScreen !== screenName && currentScreen !== 'login') {
                navigationHistory.push(currentScreen);
            }
            
            // Hide all screens
            document.getElementById('customerWelcome').style.display = 'none';
            document.getElementById('menuScreen').style.display = 'none';
            
            // Show requested screen
            document.getElementById(screenName).style.display = 'block';
            currentScreen = screenName;
            
            // Load menu if navigating to menu screen
            if (screenName === 'menuScreen') {
                loadMenu();
            }
            
            // Show/hide back button
            updateBackButton();
        }
        
        function goBack() {
            if (navigationHistory.length > 0) {
                const previousScreen = navigationHistory.pop();
                
                // Hide all screens
                document.getElementById('customerWelcome').style.display = 'none';
                document.getElementById('menuScreen').style.display = 'none';
                
                // Show previous screen
                document.getElementById(previousScreen).style.display = 'block';
                currentScreen = previousScreen;
                
                // Update back button visibility
                updateBackButton();
            }
        }
        
        function updateBackButton() {
            const backBtn = document.getElementById('backBtn');
            if (navigationHistory.length > 0) {
                backBtn.disabled = false;
                backBtn.style.opacity = '1';
            } else {
                backBtn.disabled = true;
                backBtn.style.opacity = '0.3';
            }
        }
        
        function goToStart() {
            // Clear navigation history
            navigationHistory = [];
            
            // Get current user to determine start screen
            const savedUser = sessionStorage.getItem('currentUser');
            if (savedUser) {
                const user = JSON.parse(savedUser);
                if (user.isIpad) {
                    navigateTo('customerWelcome');
                } else {
                    navigateTo('menuScreen');
                }
            }
        }
        
        // ============================================
        // FORM SELECTOR FUNCTIONS - GLOBAL
        // ============================================
        
        function selectPartySize(size) {
            // Remove active class from all buttons
            document.querySelectorAll('.size-btn').forEach(btn => btn.classList.remove('active'));
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Set the hidden input value
            document.getElementById('partySize').value = size;
        }
        
        function toggleAllergies(show) {
            // Update button states
            const buttons = event.target.parentElement.querySelectorAll('.yn-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show/hide textarea
            const textarea = document.getElementById('customerAllergies');
            if (show) {
                textarea.style.display = 'block';
                textarea.focus();
            } else {
                textarea.style.display = 'none';
                textarea.value = '';
            }
        }
        
        function toggleCelebration(show) {
            // Update button states
            const buttons = event.target.parentElement.querySelectorAll('.yn-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show/hide textarea
            const textarea = document.getElementById('customerCelebration');
            if (show) {
                textarea.style.display = 'block';
                textarea.focus();
            } else {
                textarea.style.display = 'none';
                textarea.value = '';
            }
        }
        
        // ============================================
        // LOGOUT FUNCTION - GLOBAL
        // ============================================
        
        function logout() {
            // Pedir contrase√±a
            const password = prompt('Contrase√±a para cerrar / Password to close:');
            
            // Verificar contrase√±a
            if (password !== 'bertina123') {
                alert('Contrase√±a incorrecta / Incorrect password');
                return; // No hacer nada si la contrase√±a es incorrecta
            }
            
            // Obtener usuario actual para saber si es iPad
            const savedUser = sessionStorage.getItem('currentUser');
            let isIpad = false;
            if (savedUser) {
                const user = JSON.parse(savedUser);
                isIpad = user.isIpad;
            }
            
            // Si es iPad, solo regresar al home de clientes
            if (isIpad) {
                // Limpiar el formulario
                document.getElementById('customerLastName').value = '';
                document.getElementById('partySize').value = '2';
                document.getElementById('customerAllergies').value = '';
                document.getElementById('customerAllergies').style.display = 'none';
                document.getElementById('customerCelebration').value = '';
                document.getElementById('customerCelebration').style.display = 'none';
                
                // Resetear botones
                document.querySelectorAll('.size-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.size-btn')[1].classList.add('active'); // 2 personas default
                document.querySelectorAll('.yn-btn').forEach(btn => btn.classList.remove('active'));
                
                // Navegar a la pantalla de bienvenida
                navigationHistory = [];
                navigateTo('customerWelcome');
                
                // Reiniciar slideshow
                setTimeout(() => {
                    if (typeof initSlideshow !== 'undefined') initSlideshow();
                }, 200);
                
            } else {
                // Para staff/admin, logout completo
                sessionStorage.clear();
                currentOrder = {};
                customerData = {};
                navigationHistory = [];
                currentScreen = 'login';
                
                // Hide back button
                const backBtn = document.getElementById('backBtn');
                if (backBtn) {
                    backBtn.disabled = true;
                    backBtn.style.opacity = '0.3';
                }
                
                // Hide app, show home screen
                document.getElementById('appScreen').style.display = 'none';
                document.getElementById('homeScreen').style.display = 'block';
                
                // Clear login form
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                document.getElementById('errorMsg').style.display = 'none';
                
                // Restart home slideshow
                setTimeout(() => {
                    if (typeof showHomeSlide !== 'undefined') showHomeSlide(0);
                    if (typeof startHomeSlideshow !== 'undefined') startHomeSlideshow();
                }, 100);
            }
        }
        
        // ============================================
        // TRANSLATIONS - Comprehensive (GLOBAL)
        // ============================================
        const translations = {
            // Hero Section
            heroSubtitle: {
                en: "Where Every Meal is a Journey",
                es: "Donde Cada Comida es un Viaje"
            },
            heroSubtitle2: {
                en: "Fresh Flavors, Exceptional Service",
                es: "Sabores Frescos, Servicio Excepcional"
            },
            heroSubtitle3: {
                en: "An Unforgettable Experience",
                es: "Una Experiencia Inolvidable"
            },
            heroSubtitle4: {
                en: "Crafted with Passion",
                es: "Elaborado con Pasi√≥n"
            },
            heroSubtitle5: {
                en: "Your Culinary Destination",
                es: "Tu Destino Culinario"
            },
            // Welcome Message
            welcomeTitle: {
                en: "Welcome to Our Family",
                es: "Bienvenido a Nuestra Familia"
            },
            welcomeText: {
                en: "We're delighted to have you here. Please share a few details with us so we can make your dining experience exceptional.",
                es: "Estamos encantados de tenerte aqu√≠. Por favor comparte algunos detalles con nosotros para hacer tu experiencia excepcional."
            },
            // Form Labels
            labelLastName: {
                en: "Last Name",
                es: "Apellido"
            },
            labelPartySize: {
                en: "Party Size",
                es: "N√∫mero de Personas"
            },
            labelAllergies: {
                en: "Food Allergies or Dietary Restrictions",
                es: "Alergias Alimentarias o Restricciones Diet√©ticas"
            },
            labelCelebration: {
                en: "Special Celebration",
                es: "Celebraci√≥n Especial"
            },
            // Button Text
            btnOrderText: {
                en: "Start Your Dining Experience",
                es: "Comienza Tu Experiencia Gastron√≥mica"
            },
            // Features
            featureTitle1: {
                en: "Premium Quality",
                es: "Calidad Premium"
            },
            featureText1: {
                en: "Fresh ingredients, expertly prepared",
                es: "Ingredientes frescos, preparados expertamente"
            },
            featureTitle2: {
                en: "Master Chefs",
                es: "Chefs Maestros"
            },
            featureText2: {
                en: "Culinary excellence in every dish",
                es: "Excelencia culinaria en cada platillo"
            },
            featureTitle3: {
                en: "Exceptional Service",
                es: "Servicio Excepcional"
            },
            featureText3: {
                en: "Your satisfaction is our priority",
                es: "Tu satisfacci√≥n es nuestra prioridad"
            },
            // Menu Section
            menuTitle: {
                en: "Our Menu",
                es: "Nuestro Men√∫"
            },
            summaryTitle: {
                en: "Your Order",
                es: "Tu Pedido"
            },
            totalLabel: {
                en: "TOTAL:",
                es: "TOTAL:"
            },
            btnRequestBill: {
                en: "üí≥ Request Bill",
                es: "üí≥ Pedir Cuenta"
            }
        };
        
        window.addEventListener('load', function() {
        
        // POPULATE MENU DATA
        // Data extracted from app.js - Official Solomon's Landing Menu 2026
        menuData = [
            // ========== BREAKFAST / DESAYUNO ==========
            // A FRESH START
            { id: 1, category: { en: "A Fresh Start", es: "Un Comienzo Fresco" }, name: { en: "Seasonal Fruit", es: "Fruta de Temporada" }, description: { en: "With yogurt and granola", es: "Con yogurt y granola" }, price: 210 },
            { id: 2, category: { en: "A Fresh Start", es: "Un Comienzo Fresco" }, name: { en: "A√ßa√≠ Bowl", es: "Bowl de A√ßa√≠" }, description: { en: "Topped with mango, strawberry, blueberry, banana, pecans and coconut", es: "Cubierto con mango, fresa, ar√°ndano, pl√°tano, nueces y coco" }, price: 315 },
            { id: 3, category: { en: "A Fresh Start", es: "Un Comienzo Fresco" }, name: { en: "Avocado Toast", es: "Tostada de Aguacate" }, description: { en: "Homemade seeded bread with light goat cheese spread, avocado with lemon, poached eggs with toasted pepitas and sesame seeds. Comes with organic salad with goat cheese and passion fruit vinaigrette", es: "Pan artesanal con semillas con queso de cabra ligero, aguacate con lim√≥n, huevos pochados con pepitas tostadas y ajonjol√≠. Viene con ensalada org√°nica con queso de cabra y vinagreta de maracuy√°" }, price: 265, icons: "ü•ë" },
            
            // SOMETHING SWEET
            { id: 4, category: { en: "Something Sweet", es: "Algo Dulce" }, name: { en: "Pancakes", es: "Hot Cakes" }, description: { en: "Buttermilk pancakes with clarified butter served with real Canadian maple syrup, berries and homemade whipped cream", es: "Hot cakes de suero de leche con mantequilla clarificada servidos con jarabe de maple canadiense real, frutos rojos y crema batida casera" }, price: 210 },
            { id: 5, category: { en: "Something Sweet", es: "Algo Dulce" }, name: { en: "Banana Pecan Pancakes", es: "Hot Cakes de Pl√°tano y Nuez" }, description: { en: "Buttermilk pancakes with clarified butter, pecans, banana and homemade whipped cream, served with real Canadian maple syrup", es: "Hot cakes de suero de leche con mantequilla clarificada, nueces, pl√°tano y crema batida casera, servidos con jarabe de maple canadiense real" }, price: 220 },
            { id: 6, category: { en: "Something Sweet", es: "Algo Dulce" }, name: { en: "French Toast", es: "Pan Franc√©s" }, description: { en: "Served with real Canadian maple syrup, berries and homemade whipped cream", es: "Servido con jarabe de maple canadiense real, frutos rojos y crema batida casera" }, price: 210 },
            { id: 7, category: { en: "Something Sweet", es: "Algo Dulce" }, name: { en: "French Toast Stuffed with Cream Cheese, Strawberry, and Banana", es: "Pan Franc√©s Relleno de Queso Crema, Fresa y Pl√°tano" }, description: { en: "Featured on Food Network's Triple D, an all time favorite signature dish. Served with real Canadian maple syrup, berries and homemade whipped cream", es: "Presentado en Triple D de Food Network, un platillo firma favorito de todos los tiempos. Servido con jarabe de maple canadiense real, frutos rojos y crema batida casera" }, price: 265, featured: true },
            { id: 8, category: { en: "Something Sweet", es: "Algo Dulce" }, name: { en: "Belgian Waffle", es: "Waffle Belga" }, description: { en: "Crispy Belgian waffle served with real Canadian maple syrup and homemade whipped cream", es: "Waffle belga crujiente servido con jarabe de maple canadiense real y crema batida casera" }, price: 210 },
            { id: 9, category: { en: "Something Sweet", es: "Algo Dulce" }, name: { en: "Solomon's Waffle", es: "Waffle Solomon's" }, description: { en: "Crispy Belgian waffle with vanilla bean ice cream, mixed berries and hazelnut sauce on top. Served with real Canadian maple syrup", es: "Waffle belga crujiente con helado de vainilla, frutos rojos mixtos y salsa de avellana encima. Servido con jarabe de maple canadiense real" }, price: 265 },
            
            // CHEF'S SPECIALTIES
            { id: 10, category: { en: "Chef's Specialties", es: "Especialidades del Chef" }, name: { en: "Chilaquiles", es: "Chilaquiles" }, description: { en: "Choice of red or green sauce", es: "A elegir salsa roja o verde" }, price: 230, options: [{ name: { en: "With Organic Eggs", es: "Con Huevos Org√°nicos" }, price: 255 }, { name: { en: "With Organic Chicken", es: "Con Pollo Org√°nico" }, price: 285 }] },
            { id: 11, category: { en: "Chef's Specialties", es: "Especialidades del Chef" }, name: { en: "Barbacoa Burrito", es: "Burrito de Barbacoa" }, description: { en: "Flour tortilla filled with barbacoa, pinto beans, Monterrey cheese, and egg. Served with organic salad, goat cheese & passion fruit vinaigrette", es: "Tortilla de harina rellena de barbacoa, frijoles pintos, queso Monterrey y huevo. Servido con ensalada org√°nica, queso de cabra y vinagreta de maracuy√°" }, price: 290, featured: true },
            { id: 12, category: { en: "Chef's Specialties", es: "Especialidades del Chef" }, name: { en: "Barbacoa Sope", es: "Sope de Barbacoa" }, description: { en: "Barbacoa sope with eggs to your liking, pickled red onion and avocado on top, sitting in a pool of two sauces, a bean sauce and red sauce", es: "Sope de barbacoa con huevos al gusto, cebolla roja encurtida y aguacate encima, en un pool de dos salsas, salsa de frijol y salsa roja" }, price: 290, new: true },
            
            // EGG DISHES
            { id: 13, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "Eggs to Your Liking", es: "Huevos al Gusto" }, description: { en: "Served with crispy hash browns made with avocado oil and refried beans. Choice of corn or flour tortillas, or homemade seeded toast", es: "Servidos con papas hash browns crujientes hechas con aceite de aguacate y frijoles refritos. A elegir tortillas de ma√≠z o harina, o pan artesanal con semillas" }, price: 190 },
            { id: 14, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "Mediterranean Omelette", es: "Omelette Mediterr√°neo" }, description: { en: "With onion, kalamata olives, cherry tomato, basil & goat cheese. Served with organic salad, goat cheese & passion fruit vinaigrette. Choice of corn or flour tortillas, or homemade seeded toast", es: "Con cebolla, aceitunas kalamata, tomate cherry, albahaca y queso de cabra. Servido con ensalada org√°nica, queso de cabra y vinagreta de maracuy√°. A elegir tortillas de ma√≠z o harina, o pan artesanal con semillas" }, price: 270 },
            { id: 15, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "Green Fisherman", es: "Pescador Verde" }, description: { en: "With spinach, mushroom, onion, Monterrey cheese, green sauce & avocado. Choice of corn or flour tortillas, or homemade seeded toast", es: "Con espinaca, champi√±ones, cebolla, queso Monterrey, salsa verde y aguacate. A elegir tortillas de ma√≠z o harina, o pan artesanal con semillas" }, price: 265 },
            { id: 16, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "Italian Omelette", es: "Omelette Italiano" }, description: { en: "An egg crepe stuffed with Monterrey cheese and Italian sausage in a pool of homemade marinara sauce. Choice of corn or flour tortillas, or seeded toast", es: "Una crepa de huevo rellena de queso Monterrey y salchicha italiana en un pool de salsa marinara casera. A elegir tortillas de ma√≠z o harina, o pan con semillas" }, price: 270, new: true },
            { id: 17, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "The Baja Omelette", es: "Omelette Baja" }, description: { en: "With bacon, artisanal chorizo, cheddar, mushrooms, onion, sour cream & avocado. Served with crispy avocado-oil hash browns & refried beans. Choice of corn or flour tortillas, or homemade seeded toast", es: "Con tocino, chorizo artesanal, cheddar, champi√±ones, cebolla, crema √°cida y aguacate. Servido con papas hash browns crujientes hechas con aceite de aguacate y frijoles refritos. A elegir tortillas de ma√≠z o harina, o pan artesanal con semillas" }, price: 300 },
            { id: 18, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "Rancheros", es: "Rancheros" }, description: { en: "Sunny side up eggs over pinto beans on a lightly fried corn tortilla topped with ranchero sauce, farm cheese and avocado", es: "Huevos estrellados sobre frijoles pintos en tortilla de ma√≠z ligeramente frita cubiertos con salsa ranchera, queso ranchero y aguacate" }, price: 245 },
            { id: 19, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "Breakfast Fajitas", es: "Fajitas de Desayuno" }, description: { en: "Two sunny-side-up eggs with flank steak, peppers, onion, tomato & avocado. Choice of corn or flour tortillas, or homemade seeded toast", es: "Dos huevos estrellados con arrachera, pimientos, cebolla, tomate y aguacate. A elegir tortillas de ma√≠z o harina, o pan artesanal con semillas" }, price: 310 },
            { id: 20, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "Eggs Benedict", es: "Huevos Benedictinos" }, description: { en: "Poached eggs and Canadian bacon on a homemade English muffin topped with hollandaise sauce, served with asparagus and crispy hash browns made with avocado oil", es: "Huevos pochados y tocino canadiense en un muffin ingl√©s casero cubierto con salsa holandesa, servido con esp√°rragos y papas hash browns crujientes hechas con aceite de aguacate" }, price: 300 },
            { id: 21, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "The Breakfast Sandwich", es: "El Sandwich de Desayuno" }, description: { en: "Homemade artisanal basil bread with chipotle dressing, arugula in truffle oil, sun-dried tomato, grilled cheese, black forest ham, avocado & egg to your liking. Served with organic salad, goat cheese & passion fruit vinaigrette", es: "Pan artesanal de albahaca casero con aderezo de chipotle, ar√∫gula en aceite de trufa, tomate seco, queso a la parrilla, jam√≥n selva negra, aguacate y huevo al gusto. Servido con ensalada org√°nica, queso de cabra y vinagreta de maracuy√°" }, price: 310 },
            { id: 22, category: { en: "Egg Dishes", es: "Platillos con Huevo" }, name: { en: "Breakfast Burrito", es: "Burrito de Desayuno" }, description: { en: "Eggs, bacon, jack cheese and potatoes. Served with pico de gallo, guacamole and ranchero sauce", es: "Huevos, tocino, queso jack y papas. Servido con pico de gallo, guacamole y salsa ranchera" }, price: 245 },
            
            // ========== LUNCH / COMIDA ==========
            // STARTERS
            { id: 23, category: { en: "Starters", es: "Entradas" }, name: { en: "Guacamole", es: "Guacamole" }, description: { en: "Served with pico de gallo and baked corn tortilla chips", es: "Servido con pico de gallo y totopos horneados" }, price: 255, icons: "ü•ë" },
            { id: 24, category: { en: "Starters", es: "Entradas" }, name: { en: "Seafood Guacamole", es: "Guacamole de Mariscos" }, description: { en: "Guacamole, cooked shrimp, seared blackened tuna and Magdalena Bay scallops (seasonal) with farm fresh cheese and baked corn tortilla chips", es: "Guacamole, camar√≥n cocido, at√∫n sellado ennegrecido y callos de hacha de Bah√≠a Magdalena (de temporada) con queso ranchero fresco y totopos horneados" }, price: 385, icons: "ü¶ê" },
            { id: 25, category: { en: "Starters", es: "Entradas" }, name: { en: "Calamari", es: "Calamares" }, description: { en: "Calamari steak strips saut√©ed crispy in panko, served with cocktail and marinara sauce", es: "Tiras de filete de calamar salteadas crujientes en panko, servidas con salsa coctel y marinara" }, price: 255, icons: "ü¶ë" },
            { id: 26, category: { en: "Starters", es: "Entradas" }, name: { en: "Solomon's Ceviche", es: "Ceviche Solomon's" }, description: { en: "Salmon, tuna & white fish in Mexican-Asian fusion sauce with mango, cucumber, red onion, cilantro, avocado, mint & fried chile de √°rbol. Served with baked corn chips", es: "Salm√≥n, at√∫n y pescado blanco en salsa fusi√≥n mexicana-asi√°tica con mango, pepino, cebolla morada, cilantro, aguacate, menta y chile de √°rbol frito" }, price: 335, icons: "üêü", featured: true },
            { id: 27, category: { en: "Starters", es: "Entradas" }, name: { en: "Shrimp Cocktail", es: "C√≥ctel de Camar√≥n" }, description: { en: "Cooked shrimp with cocktail and clamato sauce, tomato, onion, cucumber, chili, cilantro, green olives, lemon and avocado", es: "Camar√≥n cocido con salsa coctel y clamato, tomate, cebolla, pepino, chile, cilantro, aceitunas verdes, lim√≥n y aguacate" }, price: 325, icons: "ü¶ê" },
            { id: 28, category: { en: "Starters", es: "Entradas" }, name: { en: "Tortilla Soup", es: "Sopa de Tortilla" }, description: { en: "Traditional homemade tomato base, local cheese, avocado, sour cream, chile guajillo and corn tortilla strips", es: "Base tradicional de tomate casera, queso local, aguacate, crema √°cida, chile guajillo y tiras de tortilla" }, price: 190, icons: "üç≤" },
            { id: 29, category: { en: "Starters", es: "Entradas" }, name: { en: "Crab Cakes", es: "Pastelitos de Cangrejo" }, description: { en: "Crab cakes in mango chipotle sauce with organic mixed salad, goat cheese, passion fruit dressing and homemade focaccia", es: "Pastelitos de cangrejo en salsa de mango chipotle con ensalada mixta org√°nica, queso de cabra, vinagreta de maracuy√° y focaccia casera" }, price: 365, icons: "ü¶Ä", new: true },
            
            // SALADS
            { id: 30, category: { en: "Salads", es: "Ensaladas" }, name: { en: "Caesar Salad", es: "Ensalada C√©sar" }, description: { en: "Traditional homemade Caesar dressing, romaine lettuce and homemade garlic bread with parmesan", es: "Aderezo C√©sar tradicional casero, lechuga romana y pan de ajo casero con parmesano" }, price: 220, options: [{ name: { en: "Organic Chicken", es: "Pollo Org√°nico" }, price: 290 }, { name: { en: "Shrimp", es: "Camar√≥n" }, price: 330 }] },
            { id: 31, category: { en: "Salads", es: "Ensaladas" }, name: { en: "House Salad", es: "Ensalada de la Casa" }, description: { en: "Mixed organic lettuce, avocado, grapes, orange slices, pistachios, gorgonzola and cherry tomatoes with raspberry balsamic vinaigrette", es: "Lechuga org√°nica mixta, aguacate, uvas, rebanadas de naranja, pistaches, gorgonzola y tomates cherry con vinagreta bals√°mica de frambuesa" }, price: 250 },
            
            // BURGERS & PANINIS
            { id: 32, category: { en: "Burgers & Paninis", es: "Hamburguesas y Paninis" }, name: { en: "Classic Burger", es: "Hamburguesa Cl√°sica" }, description: { en: "8 oz. beef patty, cheddar, tomato, onion, lettuce, pickles. Choice of sweet potato fries, french fries, or organic salad", es: "Hamburguesa de 8 oz., cheddar, tomate, cebolla, lechuga, pepinillos. A elegir papas de camote, papas fritas o ensalada org√°nica" }, price: 290, icons: "üçî" },
            { id: 33, category: { en: "Burgers & Paninis", es: "Hamburguesas y Paninis" }, name: { en: "Western Burger", es: "Hamburguesa Western" }, description: { en: "8 oz. beef patty, cheddar, bacon, smoked BBQ sauce, breaded shallot rings. Choice of sweet potato fries, french fries, or organic salad", es: "Hamburguesa de 8 oz., cheddar, tocino, salsa BBQ ahumada, aros de chalota empanizados. A elegir papas de camote, papas fritas o ensalada org√°nica" }, price: 315, icons: "üçî" },
            { id: 34, category: { en: "Burgers & Paninis", es: "Hamburguesas y Paninis" }, name: { en: "Tuna Burger", es: "Hamburguesa de At√∫n" }, description: { en: "Fresh grilled tuna Cajun style with arugula, avocado, tomato, swiss cheese and chipotle dressing", es: "At√∫n fresco a la parrilla estilo caj√∫n con ar√∫gula, aguacate, tomate, queso suizo y aderezo de chipotle" }, price: 400, icons: "üêü" },
            
            // MEXICAN SPECIALTIES
            { id: 35, category: { en: "Mexican Specialties", es: "Especialidades Mexicanas" }, name: { en: "Fish Tacos (3)", es: "Tacos de Pescado (3)" }, description: { en: "Lightly crispy breaded fish on flour tortilla with coleslaw, red onion, cilantro, chipotle dressing, guacamole, pico de gallo and homemade salsas", es: "Pescado empanizado ligeramente crujiente en tortilla de harina con col, cebolla morada, cilantro, aderezo de chipotle, guacamole, pico de gallo y salsas caseras" }, price: 255, icons: "üåÆüêü" },
            { id: 36, category: { en: "Mexican Specialties", es: "Especialidades Mexicanas" }, name: { en: "Shrimp Tacos (3)", es: "Tacos de Camar√≥n (3)" }, description: { en: "Lightly crispy breaded shrimp on flour tortilla with coleslaw, red onion, cilantro, chipotle dressing, guacamole, pico de gallo and homemade salsas", es: "Camar√≥n empanizado ligeramente crujiente en tortilla de harina con col, cebolla morada, cilantro, aderezo de chipotle, guacamole, pico de gallo y salsas caseras" }, price: 265, icons: "üåÆü¶ê" },
            { id: 37, category: { en: "Mexican Specialties", es: "Especialidades Mexicanas" }, name: { en: "Signature Grilled Tacos (3)", es: "Tacos a la Parrilla Firma (3)" }, description: { en: "Arrachera steak, Monterrey jack cheese and caramelized onion on handmade nixtamal corn tortilla with guacamole, pico de gallo and homemade salsas", es: "Arrachera, queso Monterrey jack y cebolla caramelizada en tortilla de ma√≠z nixtamalizada hecha a mano con guacamole, pico de gallo y salsas caseras" }, price: 365, icons: "üåÆü•©", featured: true },
            { id: 38, category: { en: "Mexican Specialties", es: "Especialidades Mexicanas" }, name: { en: "Fajitas", es: "Fajitas" }, description: { en: "Served in hot rock molcajete with cactus, panela farm cheese, sauce with peppers and onions, pinto beans, guacamole and pico de gallo. Choice of flour or corn tortillas", es: "Servidas en molcajete de piedra caliente con nopal, queso panela, salsa con pimientos y cebolla, frijoles pintos, guacamole y pico de gallo. A elegir tortillas de harina o ma√≠z" }, price: 335, icons: "üå∂Ô∏è", options: [{ name: { en: "Organic Chicken", es: "Pollo Org√°nico" }, price: 335 }, { name: { en: "Shrimp", es: "Camar√≥n" }, price: 390 }, { name: { en: "Steak", es: "Arrachera" }, price: 405 }] },
            
            // ========== DINNER / CENA ==========
            // STEAKS & RIBS
            { id: 39, category: { en: "Steaks & Ribs", es: "Cortes y Costillas" }, name: { en: "Ribeye 16oz", es: "Ribeye 16oz" }, description: { en: "Prime ribeye with local seasonal vegetables, toasted almonds, balsamic reduction sauce over cauliflower puree. Choice of baked potato or mashed potatoes", es: "Ribeye premium con vegetales locales de temporada, almendras tostadas, salsa de reducci√≥n bals√°mica sobre pur√© de coliflor. A elegir papa al horno o pur√© de papas" }, price: 890, icons: "ü•©" },
            { id: 40, category: { en: "Steaks & Ribs", es: "Cortes y Costillas" }, name: { en: "New York 12oz", es: "New York 12oz" }, description: { en: "Prime New York strip with local seasonal vegetables, toasted almonds, balsamic reduction sauce over cauliflower puree. Choice of baked potato or mashed potatoes", es: "Corte New York premium con vegetales locales de temporada, almendras tostadas, salsa de reducci√≥n bals√°mica sobre pur√© de coliflor. A elegir papa al horno o pur√© de papas" }, price: 795, icons: "ü•©" },
            { id: 41, category: { en: "Steaks & Ribs", es: "Cortes y Costillas" }, name: { en: "Filet Mignon 8oz", es: "Filete Mignon 8oz" }, description: { en: "Prime tenderloin with local seasonal vegetables, toasted almonds, balsamic reduction sauce over cauliflower puree. Choice of baked potato or mashed potatoes", es: "Lomo premium con vegetales locales de temporada, almendras tostadas, salsa de reducci√≥n bals√°mica sobre pur√© de coliflor. A elegir papa al horno o pur√© de papas" }, price: 750, icons: "ü•©" },
            { id: 42, category: { en: "Steaks & Ribs", es: "Cortes y Costillas" }, name: { en: "BBQ Pork Ribs", es: "Costillas de Cerdo BBQ" }, description: { en: "Slow-cooked pork ribs with homemade BBQ sauce, served with sweet potato fries and coleslaw", es: "Costillas de cerdo cocidas lentamente con salsa BBQ casera, servidas con papas fritas de camote y ensalada de col" }, price: 575, icons: "üçñ" },
            { id: 43, category: { en: "Steaks & Ribs", es: "Cortes y Costillas" }, name: { en: "Surf & Turf", es: "Mar y Tierra" }, description: { en: "8oz filet mignon and lobster tail with local seasonal vegetables, toasted almonds, balsamic reduction sauce over cauliflower puree", es: "Filete mignon de 8oz y cola de langosta con vegetales locales de temporada, almendras tostadas, salsa de reducci√≥n bals√°mica sobre pur√© de coliflor" }, price: 990, icons: "ü•©ü¶û", featured: true },
            
            // SEAFOOD
            { id: 44, category: { en: "Seafood", es: "Mariscos" }, name: { en: "Solomon's Catch of the Day", es: "Pesca del D√≠a Solomon's" }, description: { en: "Fresh catch with local seasonal vegetables, toasted almonds and balsamic reduction sauce over cauliflower puree. Choice of preparation: garlic, creamy cilantro, lemon pepper, signature grilled, Cajun blackened, crispy coconut, capers & wine, or Rockefeller", es: "Pesca fresca con vegetales locales de temporada, almendras tostadas y salsa de reducci√≥n bals√°mica sobre pur√© de coliflor. A elegir preparaci√≥n: ajo, cilantro cremoso, pimienta lim√≥n, parrilla firma, caj√∫n ennegrecido, coco crujiente, alcaparras y vino, o Rockefeller" }, price: 570, icons: "üêü" },
            { id: 45, category: { en: "Seafood", es: "Mariscos" }, name: { en: "Grilled Lobster Tail", es: "Cola de Langosta a la Parrilla" }, description: { en: "Fresh lobster tail with herb butter, local seasonal vegetables, toasted almonds and balsamic reduction sauce over cauliflower puree", es: "Cola de langosta fresca con mantequilla de hierbas, vegetales locales de temporada, almendras tostadas y salsa de reducci√≥n bals√°mica sobre pur√© de coliflor" }, price: 695, icons: "ü¶û" },
            { id: 46, category: { en: "Seafood", es: "Mariscos" }, name: { en: "Coconut Shrimp", es: "Camarones al Coco" }, description: { en: "Over apple compote with mango sauce, served with local seasonal vegetables, toasted almonds and balsamic reduction sauce over cauliflower puree", es: "Sobre compota de manzana con salsa de mango, servido con vegetales locales de temporada, almendras tostadas y salsa de reducci√≥n bals√°mica sobre pur√© de coliflor" }, price: 575, icons: "ü¶êü••" },
            { id: 47, category: { en: "Seafood", es: "Mariscos" }, name: { en: "Seared Scallops", es: "Callos de Hacha Sellados" }, description: { en: "Magdalena Bay scallops (seasonal) over risotto with local seasonal vegetables, toasted almonds and balsamic reduction", es: "Callos de hacha de Bah√≠a Magdalena (de temporada) sobre risotto con vegetales locales de temporada, almendras tostadas y reducci√≥n bals√°mica" }, price: 625, icons: "ü¶™" },
            
            // ========== BAR / BAR ==========
            // MARGARITAS
            { id: 48, category: { en: "Margaritas", es: "Margaritas" }, name: { en: "House Margarita", es: "Margarita de la Casa" }, description: { en: "Tequila, triple sec, fresh lime juice, agave", es: "Tequila, triple sec, jugo de lim√≥n fresco, agave" }, price: 140, icons: "üçπ" },
            { id: 49, category: { en: "Margaritas", es: "Margaritas" }, name: { en: "Cadillac Margarita", es: "Margarita Cadillac" }, description: { en: "Premium tequila, Cointreau, fresh lime juice, agave, Grand Marnier float", es: "Tequila premium, Cointreau, jugo de lim√≥n fresco, agave, flotador de Grand Marnier" }, price: 240 },
            { id: 50, category: { en: "Margaritas", es: "Margaritas" }, name: { en: "Mango Margarita", es: "Margarita de Mango" }, description: { en: "Tequila, fresh mango, triple sec, lime juice, agave", es: "Tequila, mango fresco, triple sec, jugo de lim√≥n, agave" }, price: 165, icons: "ü•≠" },
            { id: 51, category: { en: "Margaritas", es: "Margaritas" }, name: { en: "Jalape√±o Margarita", es: "Margarita de Jalape√±o" }, description: { en: "Tequila, fresh jalape√±o, cucumber, lime juice, agave", es: "Tequila, jalape√±o fresco, pepino, jugo de lim√≥n, agave" }, price: 165, icons: "üå∂Ô∏è" },
            
            // COCKTAILS
            { id: 52, category: { en: "Cocktails", es: "Cocteles" }, name: { en: "Mojito", es: "Mojito" }, description: { en: "White rum, fresh mint, lime, sugar, soda water", es: "Ron blanco, menta fresca, lim√≥n, az√∫car, agua mineral" }, price: 145, icons: "üçÉ" },
            { id: 53, category: { en: "Cocktails", es: "Cocteles" }, name: { en: "Pi√±a Colada", es: "Pi√±a Colada" }, description: { en: "Rum, coconut cream, fresh pineapple juice", es: "Ron, crema de coco, jugo de pi√±a fresco" }, price: 155, icons: "üçç" },
            { id: 54, category: { en: "Cocktails", es: "Cocteles" }, name: { en: "Paloma", es: "Paloma" }, description: { en: "Tequila, fresh grapefruit juice, lime, grapefruit soda", es: "Tequila, jugo de toronja fresco, lim√≥n, refresco de toronja" }, price: 145, icons: "üçã" },
            { id: 55, category: { en: "Cocktails", es: "Cocteles" }, name: { en: "Moscow Mule", es: "Moscow Mule" }, description: { en: "Vodka, ginger beer, lime juice", es: "Vodka, cerveza de jengibre, jugo de lim√≥n" }, price: 150 },
            
            // BEER
            { id: 56, category: { en: "Beer", es: "Cerveza" }, name: { en: "Draft Beer", es: "Cerveza de Barril" }, description: { en: "Ask server for current selection", es: "Pregunta al mesero por la selecci√≥n actual" }, price: 85, icons: "üç∫" },
            { id: 57, category: { en: "Beer", es: "Cerveza" }, name: { en: "Craft Beer Bottle", es: "Cerveza Artesanal Botella" }, description: { en: "Local and international craft beers", es: "Cervezas artesanales locales e internacionales" }, price: 105 },
            { id: 58, category: { en: "Beer", es: "Cerveza" }, name: { en: "Domestic Beer", es: "Cerveza Nacional" }, description: { en: "Corona, Pac√≠fico, Modelo, Tecate", es: "Corona, Pac√≠fico, Modelo, Tecate" }, price: 65 },
            
            // WINE
            { id: 59, category: { en: "Wine", es: "Vino" }, name: { en: "House Wine", es: "Vino de la Casa" }, description: { en: "Red, White, or Ros√© by the glass", es: "Tinto, Blanco o Rosado por copa" }, price: 125, icons: "üç∑" },
            { id: 60, category: { en: "Wine", es: "Vino" }, name: { en: "Premium Wine", es: "Vino Premium" }, description: { en: "Ask server for wine list", es: "Pregunta al mesero por la lista de vinos" }, price: 250 },
            
            // ========== SUSHI / SUSHI ==========
            // CLASSIC ROLLS
            { id: 61, category: { en: "Classic Rolls", es: "Rollos Cl√°sicos" }, name: { en: "California Roll", es: "Rollo California" }, description: { en: "Crab, avocado, cucumber, sesame seeds", es: "Cangrejo, aguacate, pepino, ajonjol√≠" }, price: 185, icons: "üç£" },
            { id: 62, category: { en: "Classic Rolls", es: "Rollos Cl√°sicos" }, name: { en: "Spicy Tuna Roll", es: "Rollo de At√∫n Picante" }, description: { en: "Fresh tuna, spicy mayo, cucumber, scallions", es: "At√∫n fresco, mayonesa picante, pepino, ceboll√≠n" }, price: 245, icons: "üå∂Ô∏è" },
            { id: 63, category: { en: "Classic Rolls", es: "Rollos Cl√°sicos" }, name: { en: "Philadelphia Roll", es: "Rollo Filadelfia" }, description: { en: "Smoked salmon, cream cheese, avocado, cucumber", es: "Salm√≥n ahumado, queso crema, aguacate, pepino" }, price: 225 },
            { id: 64, category: { en: "Classic Rolls", es: "Rollos Cl√°sicos" }, name: { en: "Salmon Avocado Roll", es: "Rollo de Salm√≥n y Aguacate" }, description: { en: "Fresh salmon, avocado, cucumber", es: "Salm√≥n fresco, aguacate, pepino" }, price: 235, icons: "ü•ë" },
            
            // SPECIALTY ROLLS
            { id: 65, category: { en: "Specialty Rolls", es: "Rollos Especiales" }, name: { en: "Rainbow Roll", es: "Rollo Arco√≠ris" }, description: { en: "California roll topped with tuna, salmon, yellowtail, shrimp, avocado", es: "Rollo California cubierto con at√∫n, salm√≥n, jurel, camar√≥n, aguacate" }, price: 325, icons: "üåà", featured: true },
            { id: 66, category: { en: "Specialty Rolls", es: "Rollos Especiales" }, name: { en: "Dragon Roll", es: "Rollo Drag√≥n" }, description: { en: "Shrimp tempura, eel, avocado, unagi sauce, crispy flakes", es: "Camar√≥n tempura, anguila, aguacate, salsa unagi, hojuelas crujientes" }, price: 365, icons: "üêâ" },
            { id: 67, category: { en: "Specialty Rolls", es: "Rollos Especiales" }, name: { en: "Volcano Roll", es: "Rollo Volc√°n" }, description: { en: "Spicy tuna, cream cheese, deep fried, topped with spicy mayo and eel sauce", es: "At√∫n picante, queso crema, frito, cubierto con mayonesa picante y salsa de anguila" }, price: 295, icons: "üåã" },
            { id: 68, category: { en: "Specialty Rolls", es: "Rollos Especiales" }, name: { en: "Solomon's Special Roll", es: "Rollo Especial Solomon's" }, description: { en: "Shrimp tempura, crab, avocado, topped with seared tuna, spicy mayo, eel sauce", es: "Camar√≥n tempura, cangrejo, aguacate, cubierto con at√∫n sellado, mayonesa picante, salsa de anguila" }, price: 385, featured: true },
            
            // SASHIMI & NIGIRI
            { id: 69, category: { en: "Sashimi & Nigiri", es: "Sashimi y Nigiri" }, name: { en: "Tuna Sashimi (5 pcs)", es: "Sashimi de At√∫n (5 pzas)" }, description: { en: "Fresh sliced tuna", es: "At√∫n fresco rebanado" }, price: 265 },
            { id: 70, category: { en: "Sashimi & Nigiri", es: "Sashimi y Nigiri" }, name: { en: "Salmon Sashimi (5 pcs)", es: "Sashimi de Salm√≥n (5 pzas)" }, description: { en: "Fresh sliced salmon", es: "Salm√≥n fresco rebanado" }, price: 255 },
            { id: 71, category: { en: "Sashimi & Nigiri", es: "Sashimi y Nigiri" }, name: { en: "Mixed Sashimi Platter", es: "Plato Mixto de Sashimi" }, description: { en: "Chef's selection of fresh fish: tuna, salmon, yellowtail, served with wasabi, pickled ginger, soy sauce", es: "Selecci√≥n del chef de pescado fresco: at√∫n, salm√≥n, jurel, servido con wasabi, jengibre encurtido, salsa de soya" }, price: 425, icons: "üêü" },
            { id: 72, category: { en: "Sashimi & Nigiri", es: "Sashimi y Nigiri" }, name: { en: "Nigiri Combo (8 pcs)", es: "Combo Nigiri (8 pzas)" }, description: { en: "Chef's selection of nigiri sushi", es: "Selecci√≥n del chef de sushi nigiri" }, price: 345 }
        ];
        
        }); // End window.load for menuData
        
        // ============================================
        // SLIDESHOW FUNCTIONALITY
        // ============================================
        let currentSlide = 0;
        let slideInterval;
        let homeSlideInterval;
        let currentHomeSlide = 0;
        
        // Home screen slideshow
        function showHomeSlide(index) {
            const slides = document.querySelectorAll('.home-slide');
            if (!slides.length) return;
            
            slides.forEach(slide => slide.classList.remove('active'));
            
            if (index >= slides.length) index = 0;
            if (index < 0) index = slides.length - 1;
            
            currentHomeSlide = index;
            slides[index].classList.add('active');
        }
        
        function nextHomeSlide() {
            showHomeSlide(currentHomeSlide + 1);
        }
        
        function startHomeSlideshow() {
            homeSlideInterval = setInterval(nextHomeSlide, 4000);
        }
        
        // Customer welcome slideshow
        function showSlide(index) {
            const slides = document.querySelectorAll('.slide');
            const dots = document.querySelectorAll('.dot');
            
            if (!slides.length) return;
            
            // Remove active class from all
            slides.forEach(slide => slide.classList.remove('active'));
            dots.forEach(dot => dot.classList.remove('active'));
            
            // Wrap around
            if (index >= slides.length) index = 0;
            if (index < 0) index = slides.length - 1;
            
            currentSlide = index;
            
            // Add active class
            slides[index].classList.add('active');
            if (dots[index]) dots[index].classList.add('active');
        }
        
        function nextSlide() {
            showSlide(currentSlide + 1);
        }
        
        function goToSlide(index) {
            clearInterval(slideInterval);
            showSlide(index);
            startSlideshow();
        }
        
        function startSlideshow() {
            slideInterval = setInterval(nextSlide, 5000); // Change slide every 5 seconds
        }
        
        // Start slideshow when customer welcome is shown
        function initSlideshow() {
            showSlide(0);
            startSlideshow();
        }
        
        // ============================================
        // NAVIGATION FUNCTIONS
        // ============================================
        
        function goToLogin() {
            document.getElementById('homeScreen').style.display = 'none';
            document.getElementById('loginScreen').style.display = 'block';
            clearInterval(homeSlideInterval);
        }
        
        function backToHome() {
            // Ir al website principal del restaurante
            window.location.href = '../index.html';
        }
        
        // ============================================
        // LANGUAGE TOGGLE
        // ============================================
        
        function toggleLanguage() {
            currentLanguage = currentLanguage === 'en' ? 'es' : 'en';
            
            // Update language button
            const langFlag = document.getElementById('langFlag');
            const langText = document.getElementById('langText');
            
            if (currentLanguage === 'en') {
                langFlag.textContent = 'üá∫üá∏';
                langText.textContent = 'English';
            } else {
                langFlag.textContent = 'üá≤üáΩ';
                langText.textContent = 'Espa√±ol';
            }
            
            updateLanguage();
            
            // Reload menu to update item names/descriptions if on menu screen
            if (currentScreen === 'menuScreen') {
                loadMenu();
            }
        }
        
        function updateLanguage() {
            // Update all translatable elements
            Object.keys(translations).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    if (element.tagName === 'BUTTON' || element.tagName === 'SPAN') {
                        // For buttons and spans, update innerHTML to preserve child elements
                        const translation = translations[key][currentLanguage];
                        if (typeof translation === 'string') {
                            element.textContent = translation;
                        }
                    } else {
                        element.textContent = translations[key][currentLanguage];
                    }
                }
            });
            
            // Update input placeholders based on language
            const lastNameInput = document.getElementById('customerLastName');
            const allergiesInput = document.getElementById('customerAllergies');
            const celebrationInput = document.getElementById('customerCelebration');
            
            if (lastNameInput) {
                lastNameInput.placeholder = currentLanguage === 'en' ? 
                    'Enter your last name' : 'Ingrese su apellido';
            }
            if (allergiesInput) {
                allergiesInput.placeholder = currentLanguage === 'en' ? 
                    'Any food allergies or dietary needs?' : '¬øAlguna alergia alimentaria o restricci√≥n diet√©tica?';
            }
            if (celebrationInput) {
                celebrationInput.placeholder = currentLanguage === 'en' ? 
                    'Birthday, anniversary, etc.' : 'Cumplea√±os, aniversario, etc.';
            }
            
            // Update navbar title based on user role
            const user = JSON.parse(sessionStorage.getItem('currentUser') || '{}');
            if (user.isIpad) {
                document.getElementById('navbarTitle').textContent = "Solomon's Landing";
            }
            
            // Update menu tab labels
            document.querySelectorAll('.tab-text-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.tab-text-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            // Update request check button
            document.querySelectorAll('.check-btn-text-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.check-btn-text-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            // Update order details modal
            document.querySelectorAll('.order-details-title-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.order-details-title-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            // Update confirm order button
            document.querySelectorAll('.confirm-order-text-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.confirm-order-text-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            // Update cancel order texts
            document.querySelectorAll('.cancel-order-text-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.cancel-order-text-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            // Update cancel info texts
            document.querySelectorAll('.cancel-info-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.cancel-info-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            // Update new account display elements
            document.querySelectorAll('.account-total-label-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.account-total-label-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.account-orders-label-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.account-orders-label-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.view-details-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.view-details-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.no-orders-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.no-orders-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.current-cart-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.current-cart-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.cart-total-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.cart-total-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.order-now-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.order-now-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            // Update new modal elements
            document.querySelectorAll('.click-details-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.click-details-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.order-history-title-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.order-history-title-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.special-notes-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.special-notes-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.notes-help-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.notes-help-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.add-notes-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.add-notes-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.cancel-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.cancel-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.save-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.save-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            // Update tip modal elements
            document.querySelectorAll('.tip-title-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.tip-title-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.tip-total-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.tip-total-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.tip-optional-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.tip-optional-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.tip-add-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.tip-add-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.tip-custom-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.tip-custom-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.tip-no-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.tip-no-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            document.querySelectorAll('.tip-confirm-en').forEach(el => {
                el.style.display = currentLanguage === 'en' ? 'inline' : 'none';
            });
            document.querySelectorAll('.tip-confirm-es').forEach(el => {
                el.style.display = currentLanguage === 'es' ? 'inline' : 'none';
            });
            
            // Update account display if visible
            updateAccountDisplay();
            
            // Reload menu with new language if menu is visible
            if (document.getElementById('menuScreen').style.display !== 'none') {
                loadMenu();
            }
        }
        
        // ============================================
        // CUSTOMER FORM
        // ============================================
        
        document.getElementById('customerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Stop slideshow when form is submitted
            clearInterval(slideInterval);
            
            customerData = {
                lastName: document.getElementById('customerLastName').value,
                partySize: document.getElementById('partySize').value,
                allergies: document.getElementById('customerAllergies').value,
                celebration: document.getElementById('customerCelebration').value
            };
            
            // Navigate to menu using navigation system
            navigateTo('menuScreen');
            
            // Initialize account display navbar
            updateAccountDisplay();
            
            loadMenu();
        });
        
        // ============================================
        // ORDER FUNCTIONS
        // ============================================
        
        function changeQuantity(itemId, delta) {
            if (!currentOrder[itemId]) {
                currentOrder[itemId] = {
                    quantity: 0,
                    items: [] // Track each addition with timestamp
                };
            }
            
            currentOrder[itemId].quantity += delta;
            
            if (currentOrder[itemId].quantity < 0) {
                currentOrder[itemId].quantity = 0;
                currentOrder[itemId].items = [];
            } else if (delta > 0) {
                // Adding item - record timestamp
                currentOrder[itemId].items.push({
                    time: new Date(),
                    quantity: delta
                });
            } else if (delta < 0 && currentOrder[itemId].items.length > 0) {
                // Removing item - remove last entry
                currentOrder[itemId].items.pop();
            }
            
            const qtyElement = document.getElementById(`qty-${itemId}`);
            if (qtyElement) {
                qtyElement.textContent = currentOrder[itemId].quantity;
            }
            
            updateCartDisplay();
        }
        
        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const currentCart = document.getElementById('currentCart');
            const btnPlaceOrder = document.getElementById('btnPlaceOrder');
            let total = 0;
            let itemCount = 0;
            let html = '';
            
            Object.keys(currentOrder).forEach(itemId => {
                const orderItem = currentOrder[itemId];
                const quantity = orderItem.quantity || 0;
                if (quantity > 0) {
                    const item = menuData.find(m => m.id == itemId);
                    if (item) {
                        const itemTotal = item.price * quantity;
                        total += itemTotal;
                        itemCount += quantity;
                        html += `
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid #eee;">
                                <span style="color: #333; font-size: 0.95rem;"><strong>${quantity}x</strong> ${item.name[currentLanguage]}</span>
                                <span style="color: #165b33; font-weight: 600;">$${itemTotal.toFixed(2)}</span>
                            </div>
                        `;
                    }
                }
            });
            
            if (itemCount > 0) {
                currentCart.style.display = 'block';
                cartItems.innerHTML = html;
                document.getElementById('cartTotalAmount').textContent = `$${total.toFixed(2)}`;
                
                // Show "Order Now" button when 1 or more items
                if (itemCount >= 1) {
                    btnPlaceOrder.style.display = 'block';
                } else {
                    btnPlaceOrder.style.display = 'none';
                }
            } else {
                currentCart.style.display = 'none';
            }
        }
        
        // ============================================
        // ORDER CONFIRMATION SYSTEM
        // ============================================
        
        function placeOrder() {
            console.log('placeOrder called');
            console.log('currentOrder:', currentOrder);
            console.log('menuData length:', menuData.length);
            
            const orderItemCount = Object.values(currentOrder).reduce((sum, item) => sum + (item.quantity || 0), 0);
            console.log('orderItemCount:', orderItemCount);
            
            if (orderItemCount < 1) {
                alert(currentLanguage === 'en' ? 'Please add at least 1 item to your order.' : 'Por favor agregue al menos 1 art√≠culo a su orden.');
                return;
            }
            
            // Calculate order total
            const orderTotal = calculateOrderTotal();
            console.log('orderTotal:', orderTotal);
            
            // Create order snapshot
            const orderSnapshot = {
                id: Date.now(),
                items: JSON.parse(JSON.stringify(currentOrder)),
                customerData: JSON.parse(JSON.stringify(customerData)),
                timestamp: new Date(),
                total: orderTotal
            };
            
            // Add to account total immediately
            accountTotal += orderTotal;
            allOrders.push(orderSnapshot);
            console.log('Order added. New accountTotal:', accountTotal);
            console.log('allOrders:', allOrders);
            
            // Clear current cart
            currentOrder = {};
            document.querySelectorAll('[id^="qty-"]').forEach(el => {
                el.textContent = '0';
            });
            
            // Update displays
            console.log('Updating cart display...');
            updateCartDisplay();
            console.log('Updating account display...');
            updateAccountDisplay();
            
            // Order placed successfully - no alert needed, navbar shows the update
        }
        
        function updateAccountDisplay() {
            console.log('updateAccountDisplay called');
            console.log('accountTotal:', accountTotal);
            console.log('allOrders:', allOrders);
            
            const customerInfoNavbar = document.getElementById('customerInfoNavbar');
            const accountNameDisplay = document.getElementById('accountNameDisplay');
            const accountExtrasDisplay = document.getElementById('accountExtrasDisplay');
            const accountTotalDisplay = document.getElementById('accountTotalDisplay');
            const ordersCountDisplay = document.getElementById('ordersCountDisplay');
            
            console.log('customerInfoNavbar:', customerInfoNavbar);
            console.log('accountNameDisplay:', accountNameDisplay);
            
            if (!customerInfoNavbar) {
                console.error('customerInfoNavbar not found!');
                return;
            }
            
            // Show navbar
            customerInfoNavbar.style.display = 'block';
            
            // Update customer info
            if (accountNameDisplay && customerData.lastName) {
                accountNameDisplay.textContent = `üë§ ${customerData.lastName} (${customerData.partySize} ${currentLanguage === 'en' ? 'guests' : 'personas'})`;
            }
            
            if (accountExtrasDisplay) {
                let extras = [];
                if (customerData.allergies) {
                    const label = currentLanguage === 'en' ? 'Allergies' : 'Alergias';
                    extras.push(`üö´ ${label}: ${customerData.allergies}`);
                }
                if (customerData.celebration) {
                    const label = currentLanguage === 'en' ? 'Celebration' : 'Celebraci√≥n';
                    extras.push(`üéâ ${label}: ${customerData.celebration}`);
                }
                accountExtrasDisplay.innerHTML = extras.join(' ‚Ä¢ ');
            }
            
            // Update total
            if (accountTotalDisplay) {
                accountTotalDisplay.textContent = `$${accountTotal.toFixed(2)}`;
                console.log('Updated accountTotalDisplay to:', accountTotal.toFixed(2));
            }
            
            // Update orders count
            if (ordersCountDisplay) {
                ordersCountDisplay.textContent = allOrders.length;
                console.log('Updated ordersCountDisplay to:', allOrders.length);
            }
            
            // Show/hide Request Check button based on account total
            const requestCheckBtn = document.getElementById('requestCheckBtn');
            if (requestCheckBtn) {
                if (accountTotal > 0) {
                    requestCheckBtn.style.display = 'block';
                } else {
                    requestCheckBtn.style.display = 'none';
                }
            }
        }
        
        function calculateOrderTotal() {
            let total = 0;
            Object.keys(currentOrder).forEach(itemId => {
                const orderItem = currentOrder[itemId];
                const quantity = orderItem.quantity || 0;
                if (quantity > 0) {
                    const item = menuData.find(m => m.id == itemId);
                    if (item) {
                        total += item.price * quantity;
                    }
                }
            });
            return total;
        }
        
        function requestCheck() {
            if (accountTotal === 0) {
                alert(currentLanguage === 'en' ? 
                    'You haven\'t placed any orders yet.' :
                    'No ha realizado ninguna orden todav√≠a.');
                return;
            }
            
            // Show tip modal directly without confirmation
            showTipModal();
        }
        
        // ============================================
        // TIP FUNCTIONS
        // ============================================
        
        let selectedTipPercent = 0;
        
        function showTipModal() {
            const modal = document.getElementById('tipModal');
            const totalDisplay = document.getElementById('tipModalTotal');
            totalDisplay.textContent = `$${accountTotal.toFixed(2)}`;
            
            // Calculate and display tip amounts
            const tip10 = accountTotal * 0.10;
            const tip15 = accountTotal * 0.15;
            document.getElementById('tip10amount').textContent = `$${tip10.toFixed(2)}`;
            document.getElementById('tip15amount').textContent = `$${tip15.toFixed(2)}`;
            
            // Reset tip selection
            selectedTipPercent = 0;
            document.getElementById('customTipInput').value = '';
            document.getElementById('tip10btn').style.border = 'none';
            document.getElementById('tip15btn').style.border = 'none';
            
            modal.style.display = 'flex';
        }
        
        function selectTip(percent) {
            selectedTipPercent = percent;
            document.getElementById('customTipInput').value = '';
            
            // Visual feedback
            document.getElementById('tip10btn').style.border = percent === 10 ? '3px solid #d4af37' : 'none';
            document.getElementById('tip15btn').style.border = percent === 15 ? '3px solid #d4af37' : 'none';
        }
        
        function completeTipSelection(tipAmount = null) {
            let finalTip = 0;
            
            if (tipAmount !== null) {
                finalTip = tipAmount;
            } else {
                const customInput = document.getElementById('customTipInput').value;
                if (customInput && parseFloat(customInput) > 0) {
                    finalTip = parseFloat(customInput);
                } else if (selectedTipPercent > 0) {
                    finalTip = accountTotal * (selectedTipPercent / 100);
                }
            }
            
            const finalTotal = accountTotal + finalTip;
            
            // Close tip modal
            document.getElementById('tipModal').style.display = 'none';
            
            // Show final confirmation
            const tipMessage = finalTip > 0 ? 
                (currentLanguage === 'en' ? 
                    `\nTip: $${finalTip.toFixed(2)}\nFinal Total: $${finalTotal.toFixed(2)}` :
                    `\nPropina: $${finalTip.toFixed(2)}\nTotal Final: $${finalTotal.toFixed(2)}`) :
                '';
            
            alert(currentLanguage === 'en' ? 
                `‚úÖ Thank you!${tipMessage}\n\nYour server will be with you shortly.` :
                `‚úÖ ¬°Gracias!${tipMessage}\n\nTu mesero estar√° contigo en breve.`);
            
            // Reset everything and go back to home
            currentOrder = {};
            accountTotal = 0;
            allOrders = [];
            customerData = {};
            currentLanguage = 'en';
            
            // Hide menu screen, show home screen
            document.getElementById('menuScreen').style.display = 'none';
            document.getElementById('homeScreen').style.display = 'block';
            document.getElementById('appScreen').style.display = 'none';
            
            // Reset form
            document.getElementById('customerForm').reset();
        }
        
        // ============================================
        // ORDER HISTORY FUNCTIONS
        // ============================================
        
        function showFullOrderHistory() {
            if (allOrders.length === 0) {
                alert(currentLanguage === 'en' ? 'No orders yet!' : '¬°Sin √≥rdenes todav√≠a!');
                return;
            }
            
            let message = currentLanguage === 'en' ? 'üìã ORDER HISTORY\n\n' : 'üìã HISTORIAL DE √ìRDENES\n\n';
            
            allOrders.forEach((order, index) => {
                const orderNum = index + 1;
                const time = new Date(order.timestamp).toLocaleTimeString(currentLanguage === 'en' ? 'en-US' : 'es-ES', { hour: '2-digit', minute: '2-digit' });
                message += `${currentLanguage === 'en' ? 'Order' : 'Orden'} #${orderNum} - ${time}\n`;
                
                Object.keys(order.items).forEach(itemId => {
                    const orderItem = order.items[itemId];
                    const quantity = orderItem.quantity || 0;
                    if (quantity > 0) {
                        const item = menuData.find(m => m.id == itemId);
                        if (item) {
                            message += `  ${quantity}x ${item.name[currentLanguage]} - $${(item.price * quantity).toFixed(2)}\n`;
                        }
                    }
                });
                message += `  ${currentLanguage === 'en' ? 'Subtotal' : 'Subtotal'}: $${order.total.toFixed(2)}\n\n`;
            });
            
            message += `${currentLanguage === 'en' ? 'TOTAL ACCOUNT' : 'TOTAL DE CUENTA'}: $${accountTotal.toFixed(2)}`;
            alert(message);
        }
        
        function showOrderDetailsModal() {
            if (allOrders.length === 0) {
                alert(currentLanguage === 'en' ? 'No orders yet!' : '¬°Sin √≥rdenes todav√≠a!');
                return;
            }
            
            const modal = document.getElementById('orderDetailsModal');
            const content = document.getElementById('orderDetailsContent');
            
            let html = '';
            
            allOrders.forEach((order, index) => {
                const orderNum = index + 1;
                const time = new Date(order.timestamp).toLocaleTimeString(currentLanguage === 'en' ? 'en-US' : 'es-ES', { 
                    hour: '2-digit', 
                    minute: '2-digit',
                    hour12: true 
                });
                const date = new Date(order.timestamp).toLocaleDateString(currentLanguage === 'en' ? 'en-US' : 'es-ES');
                
                html += `
                    <div style="background: linear-gradient(135deg, #f8f9fa, #ffffff); border: 2px solid #165b33; border-radius: 15px; padding: 1.5rem; margin-bottom: 1.5rem; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding-bottom: 0.8rem; border-bottom: 2px solid #165b33;">
                            <div>
                                <h3 style="color: #165b33; margin: 0; font-size: 1.3rem;">
                                    ${currentLanguage === 'en' ? 'Order' : 'Orden'} #${orderNum}
                                </h3>
                                <div style="color: #666; font-size: 0.9rem; margin-top: 0.3rem;">
                                    üìÖ ${date} ‚Ä¢ üïê ${time}
                                </div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 1.8rem; font-weight: 700; color: #d4af37;">
                                    $${order.total.toFixed(2)}
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: 1rem;">
                `;
                
                Object.keys(order.items).forEach(itemId => {
                    const orderItem = order.items[itemId];
                    const quantity = orderItem.quantity || 0;
                    if (quantity > 0) {
                        const item = menuData.find(m => m.id == itemId);
                        if (item) {
                            const itemTotal = item.price * quantity;
                            const notes = orderItem.notes || '';
                            html += `
                                <div style="display: flex; justify-content: space-between; align-items: start; padding: 0.8rem; margin-bottom: 0.5rem; background: white; border-radius: 8px; border-left: 4px solid #165b33;">
                                    <div style="flex: 1;">
                                        <div style="font-weight: 600; color: #165b33; font-size: 1.05rem;">
                                            ${quantity}x ${item.name[currentLanguage]}
                                        </div>
                                        ${notes ? `<div style="color: #666; font-size: 0.85rem; margin-top: 0.3rem; font-style: italic; background: #fff3cd; padding: 0.4rem 0.6rem; border-radius: 5px; border-left: 3px solid #ffc107;">
                                            üìù ${notes}
                                        </div>` : ''}
                                    </div>
                                    <div style="font-weight: 700; color: #165b33; font-size: 1.1rem; margin-left: 1rem;">
                                        $${itemTotal.toFixed(2)}
                                    </div>
                                </div>
                            `;
                        }
                    }
                });
                
                html += `
                        </div>
                    </div>
                `;
            });
            
            html += `
                <div style="background: linear-gradient(135deg, #165b33, #1a7a43); color: white; padding: 1.5rem; border-radius: 15px; text-align: center; margin-top: 2rem;">
                    <div style="font-size: 1.2rem; margin-bottom: 0.5rem; opacity: 0.9;">
                        ${currentLanguage === 'en' ? 'TOTAL ACCOUNT' : 'TOTAL DE CUENTA'}
                    </div>
                    <div style="font-size: 2.5rem; font-weight: 700; color: #d4af37;">
                        $${accountTotal.toFixed(2)}
                    </div>
                </div>
            `;
            
            content.innerHTML = html;
            modal.style.display = 'flex';
        }
        
        function closeOrderDetailsModal() {
            const modal = document.getElementById('orderDetailsModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }
        
        // ============================================
        // ITEM NOTES FUNCTIONS
        // ============================================
        
        let currentNotesItemId = null;
        
        function openItemNotesModal(itemId, itemName) {
            currentNotesItemId = itemId;
            
            const modal = document.getElementById('itemNotesModal');
            const itemNameDisplay = document.getElementById('notesItemName');
            const textarea = document.getElementById('itemNotesTextarea');
            
            itemNameDisplay.textContent = itemName;
            
            // Load existing notes if any
            if (currentOrder[itemId] && currentOrder[itemId].notes) {
                textarea.value = currentOrder[itemId].notes;
            } else {
                textarea.value = '';
            }
            
            // Set placeholder based on language
            textarea.placeholder = currentLanguage === 'en' 
                ? 'No nuts, extra cheese, well done, no red fruits, etc.'
                : 'Sin nueces, queso extra, bien cocido, sin frutas rojas, etc.';
            
            modal.style.display = 'flex';
            setTimeout(() => textarea.focus(), 100);
        }
        
        function closeItemNotesModal() {
            const modal = document.getElementById('itemNotesModal');
            if (modal) {
                modal.style.display = 'none';
            }
            currentNotesItemId = null;
        }
        
        function saveItemNotes() {
            if (!currentNotesItemId) return;
            
            const textarea = document.getElementById('itemNotesTextarea');
            const notes = textarea.value.trim();
            
            // Initialize item in currentOrder if it doesn't exist
            if (!currentOrder[currentNotesItemId]) {
                currentOrder[currentNotesItemId] = {
                    quantity: 0,
                    items: []
                };
            }
            
            // Save notes
            currentOrder[currentNotesItemId].notes = notes;
            
            console.log(`Notes saved for item ${currentNotesItemId}:`, notes);
            
            closeItemNotesModal();
        }
        
        
        // ============================================
        // INIT
        // ============================================
        
        window.addEventListener('load', function() {
            // Start home slideshow
            setTimeout(() => {
                showHomeSlide(0);
                startHomeSlideshow();
            }, 100);
            
            // Check for saved session
            const savedUser = sessionStorage.getItem('currentUser');
            if (savedUser) {
                const user = JSON.parse(savedUser);
                const username = sessionStorage.getItem('username');
                currentUsername = username;
                
                // Hide home, show app
                document.getElementById('homeScreen').style.display = 'none';
                clearInterval(homeSlideInterval);
                showApp(user);
            }
        });
    </script>
</body>
</html>
